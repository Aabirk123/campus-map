{
  "{\"sourceRoot\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver\",\"filename\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver/server.js\",\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "babelrc": false,
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "filename": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver/server.js",
      "configFile": false,
      "envName": "development",
      "root": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-flow-strip-types",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            },
            "ImportDeclaration": {
              "enter": [
                null,
                null
              ]
            },
            "ClassPrivateProperty": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "TypeCastExpression": {
              "enter": [
                null,
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "ImportSpecifier": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "AnyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ArrayTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ClassImplements": {
              "enter": [
                null
              ]
            },
            "DeclareClass": {
              "enter": [
                null
              ]
            },
            "DeclareFunction": {
              "enter": [
                null
              ]
            },
            "DeclareInterface": {
              "enter": [
                null
              ]
            },
            "DeclareModule": {
              "enter": [
                null
              ]
            },
            "DeclareModuleExports": {
              "enter": [
                null
              ]
            },
            "DeclareTypeAlias": {
              "enter": [
                null
              ]
            },
            "DeclareOpaqueType": {
              "enter": [
                null
              ]
            },
            "DeclareVariable": {
              "enter": [
                null
              ]
            },
            "DeclareExportDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclareExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclaredPredicate": {
              "enter": [
                null
              ]
            },
            "ExistsTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeParam": {
              "enter": [
                null
              ]
            },
            "GenericTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "InferredPredicate": {
              "enter": [
                null
              ]
            },
            "InterfaceExtends": {
              "enter": [
                null
              ]
            },
            "InterfaceDeclaration": {
              "enter": [
                null
              ]
            },
            "InterfaceTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "IntersectionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "MixedTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "EmptyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullableTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeInternalSlot": {
              "enter": [
                null
              ]
            },
            "ObjectTypeCallProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeIndexer": {
              "enter": [
                null
              ]
            },
            "ObjectTypeProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeSpreadProperty": {
              "enter": [
                null
              ]
            },
            "OpaqueType": {
              "enter": [
                null
              ]
            },
            "QualifiedTypeIdentifier": {
              "enter": [
                null
              ]
            },
            "StringLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "StringTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "SymbolTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ThisTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TupleTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeofTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeAlias": {
              "enter": [
                null
              ]
            },
            "TypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeParameter": {
              "enter": [
                null
              ]
            },
            "TypeParameterDeclaration": {
              "enter": [
                null
              ]
            },
            "TypeParameterInstantiation": {
              "enter": [
                null
              ]
            },
            "UnionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "Variance": {
              "enter": [
                null
              ]
            },
            "VoidTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver/server.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          [
            "flow",
            {}
          ]
        ]
      },
      "generatorOpts": {
        "filename": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nrequire(\"dotenv/config\");\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _userAuthentication = require(\"./userAuthentication\");\n\nvar sqlServerObject = _interopRequireWildcard(require(\"./SQLServerAccess.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass FROM LoginC';\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.json());\napp.use(_userAuthentication.clientAuthenticationMiddleware); // app.get('/messages', messagesController.getAll);\n// app.post('/messages', messagesController.post);\n\napp.get('/', (req, res) => {\n  res.send('go to /users to see user list');\n});\napp.post('/client-login', _userAuthentication.clientLogin); //app.get('/users', sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY));\n\napp.get('/users', (req, res) => {\n  return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n});\nconst {\n  PORT = 4000\n} = process.env;\napp.listen(PORT, () => console.log(`Authentication example app listening on port ${PORT}!`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlkiLCJhcHAiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsImNsaWVudEF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZSIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJwb3N0IiwiY2xpZW50TG9naW4iLCJzcWxTZXJ2ZXJPYmplY3QiLCJnZXRVc2VyRGF0YSIsIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7Ozs7Ozs7QUFFQSxNQUFNQSx3QkFBd0IsR0FBRyxvQ0FBakM7QUFHQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFHQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVI7QUFDQUQsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVFHLGtEQUFSLEUsQ0FFQTtBQUNBOztBQUVBSixHQUFHLENBQUNLLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkJBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTLCtCQUFUO0FBQ0gsQ0FGRDtBQUlBUixHQUFHLENBQUNTLElBQUosQ0FBUyxlQUFULEVBQTBCQywrQkFBMUIsRSxDQUVBOztBQUVBVixHQUFHLENBQUNLLEdBQUosQ0FBUSxRQUFSLEVBQWtCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQzVCLFNBQU9JLGVBQWUsQ0FBQ0MsV0FBaEIsQ0FBNEJiLHdCQUE1QixFQUFzRFEsR0FBdEQsRUFBMkRELEdBQTNELENBQVA7QUFDSCxDQUZEO0FBS0EsTUFBTTtBQUFFTyxFQUFBQSxJQUFJLEdBQUc7QUFBVCxJQUFrQkMsT0FBTyxDQUFDQyxHQUFoQztBQUNBZixHQUFHLENBQUNnQixNQUFKLENBQVdILElBQVgsRUFBaUIsTUFBTUksT0FBTyxDQUFDQyxHQUFSLENBQWEsZ0RBQStDTCxJQUFLLEdBQWpFLENBQXZCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWN1c2VyL0Rlc2t0b3AvTWVyY2VyV2ViQXBwL21lcmNlcnNxbHNlcnZlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0ICdkb3RlbnYvY29uZmlnJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IHsgaXNBdXRoZW50aWNhdGVkTWlkZGxld2FyZSwgY2xpZW50QXV0aGVudGljYXRpb25NaWRkbGV3YXJlLCBjbGllbnRMb2dpbiB9IGZyb20gJy4vdXNlckF1dGhlbnRpY2F0aW9uJztcblxuaW1wb3J0ICogYXMgc3FsU2VydmVyT2JqZWN0IGZyb20gJy4vU1FMU2VydmVyQWNjZXNzLmpzJztcblxuY29uc3QgU0VMRUNUX0FMTF9ERUZBVUxUX1FVRVJZID0gJ1NFTEVDVCBMb2dpbk5hbWUsIFBhc3MgRlJPTSBMb2dpbkMnO1xuXG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuXG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoY2xpZW50QXV0aGVudGljYXRpb25NaWRkbGV3YXJlKTtcblxuLy8gYXBwLmdldCgnL21lc3NhZ2VzJywgbWVzc2FnZXNDb250cm9sbGVyLmdldEFsbCk7XG4vLyBhcHAucG9zdCgnL21lc3NhZ2VzJywgbWVzc2FnZXNDb250cm9sbGVyLnBvc3QpO1xuXG5hcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmQoJ2dvIHRvIC91c2VycyB0byBzZWUgdXNlciBsaXN0Jyk7XG59KTtcblxuYXBwLnBvc3QoJy9jbGllbnQtbG9naW4nLCBjbGllbnRMb2dpbik7XG5cbi8vYXBwLmdldCgnL3VzZXJzJywgc3FsU2VydmVyT2JqZWN0LmdldFVzZXJEYXRhKFNFTEVDVF9BTExfREVGQVVMVF9RVUVSWSkpO1xuXG5hcHAuZ2V0KCcvdXNlcnMnLCAocmVxLCByZXMpID0+IHtcbiAgICByZXR1cm4gc3FsU2VydmVyT2JqZWN0LmdldFVzZXJEYXRhKFNFTEVDVF9BTExfREVGQVVMVF9RVUVSWSwgcmVzLCByZXEpO1xufSk7XG5cblxuY29uc3QgeyBQT1JUID0gNDAwMCB9ID0gcHJvY2Vzcy5lbnY7XG5hcHAubGlzdGVuKFBPUlQsICgpID0+IGNvbnNvbGUubG9nKGBBdXRoZW50aWNhdGlvbiBleGFtcGxlIGFwcCBsaXN0ZW5pbmcgb24gcG9ydCAke1BPUlR9IWApKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "SELECT_ALL_DEFAULT_QUERY",
        "app",
        "use",
        "bodyParser",
        "json",
        "clientAuthenticationMiddleware",
        "get",
        "req",
        "res",
        "send",
        "post",
        "clientLogin",
        "sqlServerObject",
        "getUserData",
        "PORT",
        "process",
        "env",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;AAEA,MAAMA,wBAAwB,GAAG,oCAAjC;AAGA,MAAMC,GAAG,GAAG,uBAAZ;AAGAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQG,kDAAR,E,CAEA;AACA;;AAEAJ,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAS,+BAAT;AACH,CAFD;AAIAR,GAAG,CAACS,IAAJ,CAAS,eAAT,EAA0BC,+BAA1B,E,CAEA;;AAEAV,GAAG,CAACK,GAAJ,CAAQ,QAAR,EAAkB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC5B,SAAOI,eAAe,CAACC,WAAhB,CAA4Bb,wBAA5B,EAAsDQ,GAAtD,EAA2DD,GAA3D,CAAP;AACH,CAFD;AAKA,MAAM;AAAEO,EAAAA,IAAI,GAAG;AAAT,IAAkBC,OAAO,CAACC,GAAhC;AACAf,GAAG,CAACgB,MAAJ,CAAWH,IAAX,EAAiB,MAAMI,OAAO,CAACC,GAAR,CAAa,gDAA+CL,IAAK,GAAjE,CAAvB",
      "sourceRoot": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "sourcesContent": [
        "import cors from 'cors';\nimport 'dotenv/config';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport { isAuthenticatedMiddleware, clientAuthenticationMiddleware, clientLogin } from './userAuthentication';\n\nimport * as sqlServerObject from './SQLServerAccess.js';\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass FROM LoginC';\n\n\nconst app = express();\n\n\napp.use(cors());\napp.use(bodyParser.json());\napp.use(clientAuthenticationMiddleware);\n\n// app.get('/messages', messagesController.getAll);\n// app.post('/messages', messagesController.post);\n\napp.get('/', (req, res) => {\n    res.send('go to /users to see user list');\n});\n\napp.post('/client-login', clientLogin);\n\n//app.get('/users', sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY));\n\napp.get('/users', (req, res) => {\n    return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n});\n\n\nconst { PORT = 4000 } = process.env;\napp.listen(PORT, () => console.log(`Authentication example app listening on port ${PORT}!`));"
      ]
    },
    "sourceType": "script",
    "mtime": 1588654487625
  },
  "{\"sourceRoot\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver\",\"filename\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver/SQLServerAccess.js\",\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "babelrc": false,
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "filename": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver/SQLServerAccess.js",
      "configFile": false,
      "envName": "development",
      "root": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-flow-strip-types",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            },
            "ImportDeclaration": {
              "enter": [
                null,
                null
              ]
            },
            "ClassPrivateProperty": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "TypeCastExpression": {
              "enter": [
                null,
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "ImportSpecifier": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "AnyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ArrayTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ClassImplements": {
              "enter": [
                null
              ]
            },
            "DeclareClass": {
              "enter": [
                null
              ]
            },
            "DeclareFunction": {
              "enter": [
                null
              ]
            },
            "DeclareInterface": {
              "enter": [
                null
              ]
            },
            "DeclareModule": {
              "enter": [
                null
              ]
            },
            "DeclareModuleExports": {
              "enter": [
                null
              ]
            },
            "DeclareTypeAlias": {
              "enter": [
                null
              ]
            },
            "DeclareOpaqueType": {
              "enter": [
                null
              ]
            },
            "DeclareVariable": {
              "enter": [
                null
              ]
            },
            "DeclareExportDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclareExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclaredPredicate": {
              "enter": [
                null
              ]
            },
            "ExistsTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeParam": {
              "enter": [
                null
              ]
            },
            "GenericTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "InferredPredicate": {
              "enter": [
                null
              ]
            },
            "InterfaceExtends": {
              "enter": [
                null
              ]
            },
            "InterfaceDeclaration": {
              "enter": [
                null
              ]
            },
            "InterfaceTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "IntersectionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "MixedTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "EmptyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullableTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeInternalSlot": {
              "enter": [
                null
              ]
            },
            "ObjectTypeCallProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeIndexer": {
              "enter": [
                null
              ]
            },
            "ObjectTypeProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeSpreadProperty": {
              "enter": [
                null
              ]
            },
            "OpaqueType": {
              "enter": [
                null
              ]
            },
            "QualifiedTypeIdentifier": {
              "enter": [
                null
              ]
            },
            "StringLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "StringTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "SymbolTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ThisTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TupleTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeofTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeAlias": {
              "enter": [
                null
              ]
            },
            "TypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeParameter": {
              "enter": [
                null
              ]
            },
            "TypeParameterDeclaration": {
              "enter": [
                null
              ]
            },
            "TypeParameterInstantiation": {
              "enter": [
                null
              ]
            },
            "UnionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "Variance": {
              "enter": [
                null
              ]
            },
            "VoidTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver/SQLServerAccess.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          [
            "flow",
            {}
          ]
        ]
      },
      "generatorOpts": {
        "filename": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver/SQLServerAccess.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
        "sourceFileName": "SQLServerAccess.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUserData = getUserData;\n\nconst express = require('express');\n\nconst cors = require('cors');\n\nconst mssql = require('mssql');\n\nconst app = express(); //const SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass FROM LoginC';\n\nvar config = {\n  server: 'csdata.cd4sevot432y.us-east-1.rds.amazonaws.com',\n  user: 'csc312cloud',\n  password: 'c3s!c2Cld',\n  database: 'CIS-C'\n};\n\nfunction getUserIdFromAuthenticatedRequest(req) {\n  return req.userId;\n}\n\nmssql.connect(config, function (err) {\n  if (err) console.log(err);\n});\napp.use(cors()); // app.get('/', (req, res) => {\n//     res.send('go to /users to see user list');\n// });\n// app.get('/users', (req, res) => {\n//     return getUserData;\n// });\n\nasync function getUserData(sqlQuery, res, req) {\n  var request = new mssql.Request();\n  request.query(sqlQuery, function (err, results) {\n    if (err) {\n      return res.send(err);\n    } else {\n      return res.json({\n        data: results\n      });\n    }\n  });\n}\n\napp.get('/users/query', (req, res) => {\n  const {\n    username,\n    password\n  } = req.query;\n  const QUERY_USERS = \"SELECT StudentID, ProfID FROM LoginC WHERE LoginName = '\" + username + \"' AND Pass = '\" + password + \"'\";\n  console.log(QUERY_USERS);\n  var request = new mssql.Request();\n  request.query(QUERY_USERS, function (err, results) {\n    if (err) {\n      return res.send(err);\n    } else {\n      return res.json({\n        data: results\n      });\n    }\n  });\n}); // app.listen(4000, () => {\n//     console.log('SQL Server listening on port 4000');\n// });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNRTFNlcnZlckFjY2Vzcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNvcnMiLCJtc3NxbCIsImFwcCIsImNvbmZpZyIsInNlcnZlciIsInVzZXIiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwiZ2V0VXNlcklkRnJvbUF1dGhlbnRpY2F0ZWRSZXF1ZXN0IiwicmVxIiwidXNlcklkIiwiY29ubmVjdCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJ1c2UiLCJnZXRVc2VyRGF0YSIsInNxbFF1ZXJ5IiwicmVzIiwicmVxdWVzdCIsIlJlcXVlc3QiLCJxdWVyeSIsInJlc3VsdHMiLCJzZW5kIiwianNvbiIsImRhdGEiLCJnZXQiLCJ1c2VybmFtZSIsIlFVRVJZX1VTRVJTIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1FLEtBQUssR0FBR0YsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBRUEsTUFBTUcsR0FBRyxHQUFHSixPQUFPLEVBQW5CLEMsQ0FFQTs7QUFFQSxJQUFJSyxNQUFNLEdBQUk7QUFDVkMsRUFBQUEsTUFBTSxFQUFjLGlEQURWO0FBRVZDLEVBQUFBLElBQUksRUFBYyxhQUZSO0FBR1ZDLEVBQUFBLFFBQVEsRUFBVSxXQUhSO0FBSVZDLEVBQUFBLFFBQVEsRUFBVTtBQUpSLENBQWQ7O0FBUUEsU0FBU0MsaUNBQVQsQ0FBMkNDLEdBQTNDLEVBQWdEO0FBQzVDLFNBQU9BLEdBQUcsQ0FBQ0MsTUFBWDtBQUNIOztBQUVEVCxLQUFLLENBQUNVLE9BQU4sQ0FBY1IsTUFBZCxFQUFzQixVQUFTUyxHQUFULEVBQWM7QUFDaEMsTUFBR0EsR0FBSCxFQUNJQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsR0FBWjtBQUNQLENBSEQ7QUFLQVYsR0FBRyxDQUFDYSxHQUFKLENBQVFmLElBQUksRUFBWixFLENBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVPLGVBQWVnQixXQUFmLENBQTJCQyxRQUEzQixFQUFxQ0MsR0FBckMsRUFBMENULEdBQTFDLEVBQStDO0FBQ2xELE1BQUlVLE9BQU8sR0FBRyxJQUFJbEIsS0FBSyxDQUFDbUIsT0FBVixFQUFkO0FBQ0FELEVBQUFBLE9BQU8sQ0FBQ0UsS0FBUixDQUFjSixRQUFkLEVBQXdCLFVBQVVMLEdBQVYsRUFBZVUsT0FBZixFQUF3QjtBQUU1QyxRQUFHVixHQUFILEVBQVE7QUFDSixhQUFPTSxHQUFHLENBQUNLLElBQUosQ0FBU1gsR0FBVCxDQUFQO0FBQ0gsS0FGRCxNQUVPO0FBQ0gsYUFBT00sR0FBRyxDQUFDTSxJQUFKLENBQVM7QUFDWkMsUUFBQUEsSUFBSSxFQUFFSDtBQURNLE9BQVQsQ0FBUDtBQUdIO0FBRUosR0FWRDtBQVdIOztBQUVEcEIsR0FBRyxDQUFDd0IsR0FBSixDQUFRLGNBQVIsRUFBd0IsQ0FBQ2pCLEdBQUQsRUFBTVMsR0FBTixLQUFjO0FBQ2xDLFFBQU07QUFBRVMsSUFBQUEsUUFBRjtBQUFZckIsSUFBQUE7QUFBWixNQUF5QkcsR0FBRyxDQUFDWSxLQUFuQztBQUNBLFFBQU1PLFdBQVcsR0FBRyw2REFBMkRELFFBQTNELEdBQW9FLGdCQUFwRSxHQUFxRnJCLFFBQXJGLEdBQThGLEdBQWxIO0FBQ0FPLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZYyxXQUFaO0FBQ0EsTUFBSVQsT0FBTyxHQUFHLElBQUlsQixLQUFLLENBQUNtQixPQUFWLEVBQWQ7QUFDQUQsRUFBQUEsT0FBTyxDQUFDRSxLQUFSLENBQWNPLFdBQWQsRUFBMkIsVUFBVWhCLEdBQVYsRUFBZVUsT0FBZixFQUF3QjtBQUUvQyxRQUFHVixHQUFILEVBQVE7QUFDSixhQUFPTSxHQUFHLENBQUNLLElBQUosQ0FBU1gsR0FBVCxDQUFQO0FBQ0gsS0FGRCxNQUVPO0FBQ0gsYUFBT00sR0FBRyxDQUFDTSxJQUFKLENBQVM7QUFDWkMsUUFBQUEsSUFBSSxFQUFFSDtBQURNLE9BQVQsQ0FBUDtBQUdIO0FBRUosR0FWRDtBQVdILENBaEJELEUsQ0FrQkE7QUFFQTtBQUVBIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tYWN1c2VyL0Rlc2t0b3AvTWVyY2VyV2ViQXBwL21lcmNlcnNxbHNlcnZlciIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG5jb25zdCBjb3JzID0gcmVxdWlyZSgnY29ycycpO1xuY29uc3QgbXNzcWwgPSByZXF1aXJlKCdtc3NxbCcpO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbi8vY29uc3QgU0VMRUNUX0FMTF9ERUZBVUxUX1FVRVJZID0gJ1NFTEVDVCBMb2dpbk5hbWUsIFBhc3MgRlJPTSBMb2dpbkMnO1xuXG52YXIgY29uZmlnICA9IHtcbiAgICBzZXJ2ZXIgICAgICAgICAgICA6ICdjc2RhdGEuY2Q0c2V2b3Q0MzJ5LnVzLWVhc3QtMS5yZHMuYW1hem9uYXdzLmNvbScsXG4gICAgdXNlciAgICAgICAgICAgIDogJ2NzYzMxMmNsb3VkJyxcbiAgICBwYXNzd29yZCAgICAgICAgOiAnYzNzIWMyQ2xkJyxcbiAgICBkYXRhYmFzZSAgICAgICAgOiAnQ0lTLUMnXG59O1xuICBcblxuZnVuY3Rpb24gZ2V0VXNlcklkRnJvbUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcSkge1xuICAgIHJldHVybiByZXEudXNlcklkO1xufVxuXG5tc3NxbC5jb25uZWN0KGNvbmZpZywgZnVuY3Rpb24oZXJyKSB7XG4gICAgaWYoZXJyKVxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xufSlcblxuYXBwLnVzZShjb3JzKCkpO1xuXG4vLyBhcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4vLyAgICAgcmVzLnNlbmQoJ2dvIHRvIC91c2VycyB0byBzZWUgdXNlciBsaXN0Jyk7XG4vLyB9KTtcblxuLy8gYXBwLmdldCgnL3VzZXJzJywgKHJlcSwgcmVzKSA9PiB7XG4vLyAgICAgcmV0dXJuIGdldFVzZXJEYXRhO1xuLy8gfSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyRGF0YShzcWxRdWVyeSwgcmVzLCByZXEpIHtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBtc3NxbC5SZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5xdWVyeShzcWxRdWVyeSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuXG4gICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zZW5kKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0pXG59XG5cbmFwcC5nZXQoJy91c2Vycy9xdWVyeScsIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEucXVlcnk7XG4gICAgY29uc3QgUVVFUllfVVNFUlMgPSBcIlNFTEVDVCBTdHVkZW50SUQsIFByb2ZJRCBGUk9NIExvZ2luQyBXSEVSRSBMb2dpbk5hbWUgPSAnXCIrdXNlcm5hbWUrXCInIEFORCBQYXNzID0gJ1wiK3Bhc3N3b3JkK1wiJ1wiO1xuICAgIGNvbnNvbGUubG9nKFFVRVJZX1VTRVJTKTtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBtc3NxbC5SZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5xdWVyeShRVUVSWV9VU0VSUywgZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuXG4gICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zZW5kKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0pO1xufSk7XG5cbi8vIGFwcC5saXN0ZW4oNDAwMCwgKCkgPT4ge1xuXG4vLyAgICAgY29uc29sZS5sb2coJ1NRTCBTZXJ2ZXIgbGlzdGVuaW5nIG9uIHBvcnQgNDAwMCcpO1xuXG4vLyB9KTtcblxuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "SQLServerAccess.js"
      ],
      "names": [
        "express",
        "require",
        "cors",
        "mssql",
        "app",
        "config",
        "server",
        "user",
        "password",
        "database",
        "getUserIdFromAuthenticatedRequest",
        "req",
        "userId",
        "connect",
        "err",
        "console",
        "log",
        "use",
        "getUserData",
        "sqlQuery",
        "res",
        "request",
        "Request",
        "query",
        "results",
        "send",
        "json",
        "data",
        "get",
        "username",
        "QUERY_USERS"
      ],
      "mappings": ";;;;;;;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAMG,GAAG,GAAGJ,OAAO,EAAnB,C,CAEA;;AAEA,IAAIK,MAAM,GAAI;AACVC,EAAAA,MAAM,EAAc,iDADV;AAEVC,EAAAA,IAAI,EAAc,aAFR;AAGVC,EAAAA,QAAQ,EAAU,WAHR;AAIVC,EAAAA,QAAQ,EAAU;AAJR,CAAd;;AAQA,SAASC,iCAAT,CAA2CC,GAA3C,EAAgD;AAC5C,SAAOA,GAAG,CAACC,MAAX;AACH;;AAEDT,KAAK,CAACU,OAAN,CAAcR,MAAd,EAAsB,UAASS,GAAT,EAAc;AAChC,MAAGA,GAAH,EACIC,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACP,CAHD;AAKAV,GAAG,CAACa,GAAJ,CAAQf,IAAI,EAAZ,E,CAEA;AACA;AACA;AAEA;AACA;AACA;;AAEO,eAAegB,WAAf,CAA2BC,QAA3B,EAAqCC,GAArC,EAA0CT,GAA1C,EAA+C;AAClD,MAAIU,OAAO,GAAG,IAAIlB,KAAK,CAACmB,OAAV,EAAd;AACAD,EAAAA,OAAO,CAACE,KAAR,CAAcJ,QAAd,EAAwB,UAAUL,GAAV,EAAeU,OAAf,EAAwB;AAE5C,QAAGV,GAAH,EAAQ;AACJ,aAAOM,GAAG,CAACK,IAAJ,CAASX,GAAT,CAAP;AACH,KAFD,MAEO;AACH,aAAOM,GAAG,CAACM,IAAJ,CAAS;AACZC,QAAAA,IAAI,EAAEH;AADM,OAAT,CAAP;AAGH;AAEJ,GAVD;AAWH;;AAEDpB,GAAG,CAACwB,GAAJ,CAAQ,cAAR,EAAwB,CAACjB,GAAD,EAAMS,GAAN,KAAc;AAClC,QAAM;AAAES,IAAAA,QAAF;AAAYrB,IAAAA;AAAZ,MAAyBG,GAAG,CAACY,KAAnC;AACA,QAAMO,WAAW,GAAG,6DAA2DD,QAA3D,GAAoE,gBAApE,GAAqFrB,QAArF,GAA8F,GAAlH;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAYc,WAAZ;AACA,MAAIT,OAAO,GAAG,IAAIlB,KAAK,CAACmB,OAAV,EAAd;AACAD,EAAAA,OAAO,CAACE,KAAR,CAAcO,WAAd,EAA2B,UAAUhB,GAAV,EAAeU,OAAf,EAAwB;AAE/C,QAAGV,GAAH,EAAQ;AACJ,aAAOM,GAAG,CAACK,IAAJ,CAASX,GAAT,CAAP;AACH,KAFD,MAEO;AACH,aAAOM,GAAG,CAACM,IAAJ,CAAS;AACZC,QAAAA,IAAI,EAAEH;AADM,OAAT,CAAP;AAGH;AAEJ,GAVD;AAWH,CAhBD,E,CAkBA;AAEA;AAEA",
      "sourceRoot": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "sourcesContent": [
        "const express = require('express');\nconst cors = require('cors');\nconst mssql = require('mssql');\n\nconst app = express();\n\n//const SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass FROM LoginC';\n\nvar config  = {\n    server            : 'csdata.cd4sevot432y.us-east-1.rds.amazonaws.com',\n    user            : 'csc312cloud',\n    password        : 'c3s!c2Cld',\n    database        : 'CIS-C'\n};\n  \n\nfunction getUserIdFromAuthenticatedRequest(req) {\n    return req.userId;\n}\n\nmssql.connect(config, function(err) {\n    if(err)\n        console.log(err);\n})\n\napp.use(cors());\n\n// app.get('/', (req, res) => {\n//     res.send('go to /users to see user list');\n// });\n\n// app.get('/users', (req, res) => {\n//     return getUserData;\n// });\n\nexport async function getUserData(sqlQuery, res, req) {\n    var request = new mssql.Request();\n    request.query(sqlQuery, function (err, results) {\n\n        if(err) {\n            return res.send(err);\n        } else {\n            return res.json({\n                data: results\n            });\n        }\n        \n    })\n}\n\napp.get('/users/query', (req, res) => {\n    const { username, password } = req.query;\n    const QUERY_USERS = \"SELECT StudentID, ProfID FROM LoginC WHERE LoginName = '\"+username+\"' AND Pass = '\"+password+\"'\";\n    console.log(QUERY_USERS);\n    var request = new mssql.Request();\n    request.query(QUERY_USERS, function (err, results) {\n\n        if(err) {\n            return res.send(err);\n        } else {\n            return res.json({\n                data: results\n            });\n        }\n        \n    });\n});\n\n// app.listen(4000, () => {\n\n//     console.log('SQL Server listening on port 4000');\n\n// });\n\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1588643751095
  },
  "{\"sourceRoot\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver\",\"filename\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver/userAuthentication.js\",\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/macuser/Desktop/MercerWebApp/mercersqlserver\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "babelrc": false,
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "filename": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver/userAuthentication.js",
      "configFile": false,
      "envName": "development",
      "root": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-flow-strip-types",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            },
            "ImportDeclaration": {
              "enter": [
                null,
                null
              ]
            },
            "ClassPrivateProperty": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "TypeCastExpression": {
              "enter": [
                null,
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "ImportSpecifier": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "AnyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ArrayTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ClassImplements": {
              "enter": [
                null
              ]
            },
            "DeclareClass": {
              "enter": [
                null
              ]
            },
            "DeclareFunction": {
              "enter": [
                null
              ]
            },
            "DeclareInterface": {
              "enter": [
                null
              ]
            },
            "DeclareModule": {
              "enter": [
                null
              ]
            },
            "DeclareModuleExports": {
              "enter": [
                null
              ]
            },
            "DeclareTypeAlias": {
              "enter": [
                null
              ]
            },
            "DeclareOpaqueType": {
              "enter": [
                null
              ]
            },
            "DeclareVariable": {
              "enter": [
                null
              ]
            },
            "DeclareExportDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclareExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclaredPredicate": {
              "enter": [
                null
              ]
            },
            "ExistsTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeParam": {
              "enter": [
                null
              ]
            },
            "GenericTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "InferredPredicate": {
              "enter": [
                null
              ]
            },
            "InterfaceExtends": {
              "enter": [
                null
              ]
            },
            "InterfaceDeclaration": {
              "enter": [
                null
              ]
            },
            "InterfaceTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "IntersectionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "MixedTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "EmptyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullableTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeInternalSlot": {
              "enter": [
                null
              ]
            },
            "ObjectTypeCallProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeIndexer": {
              "enter": [
                null
              ]
            },
            "ObjectTypeProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeSpreadProperty": {
              "enter": [
                null
              ]
            },
            "OpaqueType": {
              "enter": [
                null
              ]
            },
            "QualifiedTypeIdentifier": {
              "enter": [
                null
              ]
            },
            "StringLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "StringTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "SymbolTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ThisTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TupleTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeofTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeAlias": {
              "enter": [
                null
              ]
            },
            "TypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeParameter": {
              "enter": [
                null
              ]
            },
            "TypeParameterDeclaration": {
              "enter": [
                null
              ]
            },
            "TypeParameterInstantiation": {
              "enter": [
                null
              ]
            },
            "UnionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "Variance": {
              "enter": [
                null
              ]
            },
            "VoidTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver/userAuthentication.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          [
            "flow",
            {}
          ]
        ]
      },
      "generatorOpts": {
        "filename": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver/userAuthentication.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
        "sourceFileName": "userAuthentication.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encodeToken = encodeToken;\nexports.decodeToken = decodeToken;\nexports.isAuthenticatedMiddleware = isAuthenticatedMiddleware;\nexports.clientLogin = clientLogin;\nexports.clientAuthenticationMiddleware = exports.users = void 0;\n\nvar _njwt = _interopRequireDefault(require(\"njwt\"));\n\nvar sqlServerObject = _interopRequireWildcard(require(\"./SQLServerAccess.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst fetch = require(\"node-fetch\");\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass FROM LoginC';\nvar users = {}; // export function getsql(req, res)  {\n//     this.users = sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n//     return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n// };\n\nexports.users = users;\nconst {\n  APP_SECRET = 'Thisismysupersecret123456789secret.youmaynotaccess',\n  APP_BASE_URL = 'http://localhost:4000'\n} = process.env;\n\nfunction encodeToken(tokenData) {\n  return _njwt.default.create(tokenData, APP_SECRET).compact();\n}\n\nfunction decodeToken(token) {\n  return _njwt.default.verify(token, APP_SECRET).body;\n}\n\nconst clientAuthenticationMiddleware = (req, res, next) => {\n  const token = req.header('Access-Token');\n\n  if (!token) {\n    return next();\n  }\n\n  try {\n    const decoded = decodeToken(token);\n    const {\n      userId\n    } = decoded;\n    console.log('decoded', decoded);\n    console.log('userId', userId);\n\n    if (users.find(user => user.id === userId)) {\n      console.log('found user!');\n      req.userId = userId;\n    }\n  } catch (e) {\n    return next();\n  }\n\n  next();\n};\n\nexports.clientAuthenticationMiddleware = clientAuthenticationMiddleware;\n\nasync function isAuthenticatedMiddleware(req, res, next) {\n  if (req.userId) {\n    return next();\n  }\n\n  res.status(401);\n  res.json({\n    error: 'User not authenticated'\n  });\n}\n\n; // This endpoint generates and returns a JWT access token given authentication\n// data.\n\nasync function clientLogin(req, res) {\n  console.log(\"ACCESSING SERVER: Request: \", req.body);\n  var dataset;\n  await fetch('http://localhost:4000/users').then(response => response.json()).then(json => {\n    exports.users = users = json;\n  });\n  const {\n    muid,\n    password\n  } = req.body;\n  const user = users.data.recordsets[0].find(user => user.LoginName === muid && user.Pass === password);\n\n  if (!user) {\n    res.status(401);\n    return res.json({\n      error: 'Invalid email or password'\n    });\n  }\n\n  const accessToken = encodeToken({\n    userId: user.id\n  });\n  return res.json({\n    accessToken\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJBdXRoZW50aWNhdGlvbi5qcyJdLCJuYW1lcyI6WyJmZXRjaCIsInJlcXVpcmUiLCJTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlkiLCJ1c2VycyIsIkFQUF9TRUNSRVQiLCJBUFBfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiZW5jb2RlVG9rZW4iLCJ0b2tlbkRhdGEiLCJuand0IiwiY3JlYXRlIiwiY29tcGFjdCIsImRlY29kZVRva2VuIiwidG9rZW4iLCJ2ZXJpZnkiLCJib2R5IiwiY2xpZW50QXV0aGVudGljYXRpb25NaWRkbGV3YXJlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsImRlY29kZWQiLCJ1c2VySWQiLCJjb25zb2xlIiwibG9nIiwiZmluZCIsInVzZXIiLCJpZCIsImUiLCJpc0F1dGhlbnRpY2F0ZWRNaWRkbGV3YXJlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY2xpZW50TG9naW4iLCJkYXRhc2V0IiwidGhlbiIsInJlc3BvbnNlIiwibXVpZCIsInBhc3N3b3JkIiwiZGF0YSIsInJlY29yZHNldHMiLCJMb2dpbk5hbWUiLCJQYXNzIiwiYWNjZXNzVG9rZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7Ozs7O0FBQ0EsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUFyQjs7QUFFQSxNQUFNQyx3QkFBd0IsR0FBRyxvQ0FBakM7QUFDTyxJQUFJQyxLQUFLLEdBQUcsRUFBWixDLENBRVA7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLE1BQU07QUFDRkMsRUFBQUEsVUFBVSxHQUFHLG9EQURYO0FBRUZDLEVBQUFBLFlBQVksR0FBRztBQUZiLElBR0FDLE9BQU8sQ0FBQ0MsR0FIZDs7QUFLTyxTQUFTQyxXQUFULENBQXFCQyxTQUFyQixFQUFnQztBQUNuQyxTQUFPQyxjQUFLQyxNQUFMLENBQVlGLFNBQVosRUFBdUJMLFVBQXZCLEVBQW1DUSxPQUFuQyxFQUFQO0FBQ0g7O0FBRU0sU0FBU0Ms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ZXNrdG9wL01lcmNlcldlYkFwcC9tZXJjZXJzcWxzZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbmp3dCBmcm9tICduand0JztcbmltcG9ydCAqIGFzIHNxbFNlcnZlck9iamVjdCBmcm9tICcuL1NRTFNlcnZlckFjY2Vzcy5qcyc7XG5jb25zdCBmZXRjaCA9IHJlcXVpcmUoXCJub2RlLWZldGNoXCIpO1xuXG5jb25zdCBTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlkgPSAnU0VMRUNUIExvZ2luTmFtZSwgUGFzcyBGUk9NIExvZ2luQyc7XG5leHBvcnQgdmFyIHVzZXJzID0ge307XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBnZXRzcWwocmVxLCByZXMpICB7XG4vLyAgICAgdGhpcy51c2VycyA9IHNxbFNlcnZlck9iamVjdC5nZXRVc2VyRGF0YShTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlksIHJlcywgcmVxKTtcbi8vICAgICByZXR1cm4gc3FsU2VydmVyT2JqZWN0LmdldFVzZXJEYXRhKFNFTEVDVF9BTExfREVGQVVMVF9RVUVSWSwgcmVzLCByZXEpO1xuLy8gfTtcblxuXG5jb25zdCB7XG4gICAgQVBQX1NFQ1JFVCA9ICdUaGlzaXNteXN1cGVyc2VjcmV0MTIzNDU2Nzg5c2VjcmV0LnlvdW1heW5vdGFjY2VzcycsXG4gICAgQVBQX0JBU0VfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMCdcbiAgfSA9IHByb2Nlc3MuZW52O1xuICBcbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVUb2tlbih0b2tlbkRhdGEpIHtcbiAgICByZXR1cm4gbmp3dC5jcmVhdGUodG9rZW5EYXRhLCBBUFBfU0VDUkVUKS5jb21wYWN0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVUb2tlbih0b2tlbikge1xuICAgIHJldHVybiBuand0LnZlcmlmeSh0b2tlbiwgQVBQX1NFQ1JFVCkuYm9keTtcbn1cblxuZXhwb3J0IGNvbnN0IGNsaWVudEF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcignQWNjZXNzLVRva2VuJyk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG4gIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlVG9rZW4odG9rZW4pO1xuICAgICAgY29uc3QgeyB1c2VySWQgfSA9IGRlY29kZWQ7XG4gIFxuICAgICAgY29uc29sZS5sb2coJ2RlY29kZWQnLCBkZWNvZGVkKTtcbiAgICAgIGNvbnNvbGUubG9nKCd1c2VySWQnLCB1c2VySWQpO1xuICBcbiAgICAgIGlmICh1c2Vycy5maW5kKHVzZXIgPT4gdXNlci5pZCA9PT0gdXNlcklkKSkge1xuICAgICAgICBjb25zb2xlLmxvZygnZm91bmQgdXNlciEnKTtcbiAgICAgICAgcmVxLnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgXG4gICAgbmV4dCgpO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZE1pZGRsZXdhcmUocmVxLCByZXMsIG5leHQpIHtcbiAgICBpZiAocmVxLnVzZXJJZCkge1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG4gIFxuICAgIHJlcy5zdGF0dXMoNDAxKTtcbiAgICByZXMuanNvbih7IGVycm9yOiAnVXNlciBub3QgYXV0aGVudGljYXRlZCcgfSk7XG59O1xuXG4vLyBUaGlzIGVuZHBvaW50IGdlbmVyYXRlcyBhbmQgcmV0dXJucyBhIEpXVCBhY2Nlc3MgdG9rZW4gZ2l2ZW4gYXV0aGVudGljYXRpb25cbi8vIGRhdGEuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xpZW50TG9naW4ocmVxLCByZXMpIHtcbiAgICBjb25zb2xlLmxvZyhcIkFDQ0VTU0lORyBTRVJWRVI6IFJlcXVlc3Q6IFwiLCByZXEuYm9keSk7XG5cbiAgICB2YXIgZGF0YXNldDtcbiAgICBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo0MDAwL3VzZXJzJylcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgIHVzZXJzID0ganNvbjtcbiAgICB9KTtcbiAgICBjb25zdCB7IG11aWQsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VyID0gIHVzZXJzLmRhdGEucmVjb3Jkc2V0c1swXS5maW5kKHVzZXIgPT4gdXNlci5Mb2dpbk5hbWUgPT09IG11aWQgJiYgdXNlci5QYXNzID09PSBwYXNzd29yZCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMSk7XG4gICAgICByZXR1cm4gcmVzLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnIH0pO1xuICAgIH1cbiAgXG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSBlbmNvZGVUb2tlbih7IHVzZXJJZDogdXNlci5pZCB9KTtcbiAgICByZXR1cm4gcmVzLmpzb24oeyBhY2Nlc3NUb2tlbiB9KTtcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userAuthentication.js"
      ],
      "names": [
        "fetch",
        "require",
        "SELECT_ALL_DEFAULT_QUERY",
        "users",
        "APP_SECRET",
        "APP_BASE_URL",
        "process",
        "env",
        "encodeToken",
        "tokenData",
        "njwt",
        "create",
        "compact",
        "decodeToken",
        "token",
        "verify",
        "body",
        "clientAuthenticationMiddleware",
        "req",
        "res",
        "next",
        "header",
        "decoded",
        "userId",
        "console",
        "log",
        "find",
        "user",
        "id",
        "e",
        "isAuthenticatedMiddleware",
        "status",
        "json",
        "error",
        "clientLogin",
        "dataset",
        "then",
        "response",
        "muid",
        "password",
        "data",
        "recordsets",
        "LoginName",
        "Pass",
        "accessToken"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/macuser/Desktop/MercerWebApp/mercersqlserver",
      "sourcesContent": [
        "import njwt from 'njwt';\nimport * as sqlServerObject from './SQLServerAccess.js';\nconst fetch = require(\"node-fetch\");\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass FROM LoginC';\nexport var users = {};\n\n// export function getsql(req, res)  {\n//     this.users = sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n//     return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n// };\n\n\nconst {\n    APP_SECRET = 'Thisismysupersecret123456789secret.youmaynotaccess',\n    APP_BASE_URL = 'http://localhost:4000'\n  } = process.env;\n  \nexport function encodeToken(tokenData) {\n    return njwt.create(tokenData, APP_SECRET).compact();\n}\n\nexport function decodeToken(token) {\n    return njwt.verify(token, APP_SECRET).body;\n}\n\nexport const clientAuthenticationMiddleware = (req, res, next) => {\n    const token = req.header('Access-Token');\n    if (!token) {\n      return next();\n    }\n  \n    try {\n      const decoded = decodeToken(token);\n      const { userId } = decoded;\n  \n      console.log('decoded', decoded);\n      console.log('userId', userId);\n  \n      if (users.find(user => user.id === userId)) {\n        console.log('found user!');\n        req.userId = userId;\n      }\n    } catch (e) {\n      return next();\n    }\n  \n    next();\n};\n\nexport async function isAuthenticatedMiddleware(req, res, next) {\n    if (req.userId) {\n      return next();\n    }\n  \n    res.status(401);\n    res.json({ error: 'User not authenticated' });\n};\n\n// This endpoint generates and returns a JWT access token given authentication\n// data.\nexport async function clientLogin(req, res) {\n    console.log(\"ACCESSING SERVER: Request: \", req.body);\n\n    var dataset;\n    await fetch('http://localhost:4000/users')\n    .then(response => response.json())\n    .then(json => {\n        users = json;\n    });\n    const { muid, password } = req.body;\n    const user =  users.data.recordsets[0].find(user => user.LoginName === muid && user.Pass === password);\n    if (!user) {\n      res.status(401);\n      return res.json({ error: 'Invalid email or password' });\n    }\n  \n    const accessToken = encodeToken({ userId: user.id });\n    return res.json({ accessToken });\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1588655019928
  },
  "{\"sourceRoot\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver\",\"filename\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver/server.js\",\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "babelrc": false,
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "filename": "/Users/macuser/Documents/MercerWebApp/mercersqlserver/server.js",
      "configFile": false,
      "envName": "development",
      "root": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-flow-strip-types",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            },
            "ImportDeclaration": {
              "enter": [
                null,
                null
              ]
            },
            "ClassPrivateProperty": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "TypeCastExpression": {
              "enter": [
                null,
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "ImportSpecifier": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "AnyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ArrayTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ClassImplements": {
              "enter": [
                null
              ]
            },
            "DeclareClass": {
              "enter": [
                null
              ]
            },
            "DeclareFunction": {
              "enter": [
                null
              ]
            },
            "DeclareInterface": {
              "enter": [
                null
              ]
            },
            "DeclareModule": {
              "enter": [
                null
              ]
            },
            "DeclareModuleExports": {
              "enter": [
                null
              ]
            },
            "DeclareTypeAlias": {
              "enter": [
                null
              ]
            },
            "DeclareOpaqueType": {
              "enter": [
                null
              ]
            },
            "DeclareVariable": {
              "enter": [
                null
              ]
            },
            "DeclareExportDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclareExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclaredPredicate": {
              "enter": [
                null
              ]
            },
            "ExistsTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeParam": {
              "enter": [
                null
              ]
            },
            "GenericTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "InferredPredicate": {
              "enter": [
                null
              ]
            },
            "InterfaceExtends": {
              "enter": [
                null
              ]
            },
            "InterfaceDeclaration": {
              "enter": [
                null
              ]
            },
            "InterfaceTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "IntersectionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "MixedTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "EmptyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullableTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeInternalSlot": {
              "enter": [
                null
              ]
            },
            "ObjectTypeCallProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeIndexer": {
              "enter": [
                null
              ]
            },
            "ObjectTypeProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeSpreadProperty": {
              "enter": [
                null
              ]
            },
            "OpaqueType": {
              "enter": [
                null
              ]
            },
            "QualifiedTypeIdentifier": {
              "enter": [
                null
              ]
            },
            "StringLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "StringTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "SymbolTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ThisTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TupleTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeofTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeAlias": {
              "enter": [
                null
              ]
            },
            "TypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeParameter": {
              "enter": [
                null
              ]
            },
            "TypeParameterDeclaration": {
              "enter": [
                null
              ]
            },
            "TypeParameterInstantiation": {
              "enter": [
                null
              ]
            },
            "UnionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "Variance": {
              "enter": [
                null
              ]
            },
            "VoidTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/macuser/Documents/MercerWebApp/mercersqlserver/server.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          [
            "flow",
            {}
          ]
        ]
      },
      "generatorOpts": {
        "filename": "/Users/macuser/Documents/MercerWebApp/mercersqlserver/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nrequire(\"dotenv/config\");\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _userAuthentication = require(\"./userAuthentication\");\n\nvar sqlServerObject = _interopRequireWildcard(require(\"./SQLServerAccess.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass, StudentID FROM LoginC';\nconst SELECT_CLASS_SCHEDULE_DEFAULT_QUERY = 'SELECT Sections.Semester, Sections.CourseID, SectionNumber, CourseName, Professor.FirstName, Professor.LastName, DayOfWeek, TOD, ClassroomCode, CreditHr, MaxStudents, NumOfStudents FROM Sections JOIN Course ON Sections.CourseID = Course.CourseID JOIN Professor ON Professor.ProfID = Sections.ProfID ORDER BY Semester, CourseID, SectionNumber';\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.json());\napp.use(_userAuthentication.clientAuthenticationMiddleware); // app.get('/messages', messagesController.getAll);\n// app.post('/messages', messagesController.post);\n\napp.get('/', (req, res) => {\n  res.send('go to /users to see user list');\n});\napp.post('/client-login', _userAuthentication.clientLogin); //app.get('/users', sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY));\n\napp.get('/users', (req, res) => {\n  return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n});\napp.get('/course-schedule', (req, res) => {\n  return sqlServerObject.getCourseScheduleData(SELECT_CLASS_SCHEDULE_DEFAULT_QUERY, res, req);\n});\napp.post('/enrollment', sqlServerObject.getEnrollment);\napp.post('/register', sqlServerObject.registerStudent);\napp.get('/course-schedule/query', (req, res) => {\n  console.log(\"QUERYING\");\n  return sqlServerObject.getCourseScheduleDataQuery(res, req);\n});\nconst {\n  PORT = 4000\n} = process.env;\nconst {\n  IPADRRESS\n} = '';\napp.listen(PORT, 'localhost', () => {\n  console.log('RUNNING SERVER');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlkiLCJTRUxFQ1RfQ0xBU1NfU0NIRURVTEVfREVGQVVMVF9RVUVSWSIsImFwcCIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwiY2xpZW50QXV0aGVudGljYXRpb25NaWRkbGV3YXJlIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsInBvc3QiLCJjbGllbnRMb2dpbiIsInNxbFNlcnZlck9iamVjdCIsImdldFVzZXJEYXRhIiwiZ2V0Q291cnNlU2NoZWR1bGVEYXRhIiwiZ2V0RW5yb2xsbWVudCIsInJlZ2lzdGVyU3R1ZGVudCIsImNvbnNvbGUiLCJsb2ciLCJnZXRDb3Vyc2VTY2hlZHVsZURhdGFRdWVyeSIsIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwiSVBBRFJSRVNTIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOzs7Ozs7OztBQUtBLE1BQU1BLHdCQUF3QixHQUFHLCtDQUFqQztBQUVBLE1BQU1DLG1DQUFtQyxHQUFHLHVWQUE1QztBQUlBLE1BQU1DLEdBQUcsR0FBRyx1QkFBWjtBQUdBQSxHQUFHLENBQUNDLEdBQUosQ0FBUSxvQkFBUjtBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdDLElBQVgsRUFBUjtBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUUcsa0RBQVIsRSxDQUVBO0FBQ0E7O0FBRUFKLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN2QkEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVMsK0JBQVQ7QUFDSCxDQUZEO0FBSUFSLEdBQUcsQ0FBQ1MsSUFBSixDQUFTLGVBQVQsRUFBMEJDLCtCQUExQixFLENBRUE7O0FBRUFWLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLFFBQVIsRUFBa0IsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDNUIsU0FBT0ksZUFBZSxDQUFDQyxXQUFoQixDQUE0QmQsd0JBQTVCLEVBQXNEUyxHQUF0RCxFQUEyREQsR0FBM0QsQ0FBUDtBQUNILENBRkQ7QUFJQU4sR0FBRyxDQUFDSyxHQUFKLENBQVEsa0JBQVIsRUFBNEIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdEMsU0FBT0ksZUFBZSxDQUFDRSxxQkFBaEIsQ0FBc0NkLG1DQUF0QyxFQUEyRVEsR0FBM0UsRUFBZ0ZELEdBQWhGLENBQVA7QUFDSCxDQUZEO0FBSUFOLEdBQUcsQ0FBQ1MsSUFBSixDQUFTLGFBQVQsRUFBd0JLLDZCQUF4QjtBQUVBZCxHQUFHLENBQUNTLElBQUosQ0FBUyxXQUFULEVBQXNCTSwrQkFBdEI7QUFFQWYsR0FBRyxDQUFDSyxHQUFKLENBQVEsd0JBQVIsRUFBa0MsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDNUNTLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVo7QUFDQSxTQUFPTixlQUFlLENBQUNPLDBCQUFoQixDQUEyQ1gsR0FBM0MsRUFBZ0RELEdBQWhELENBQVA7QUFDSCxDQUhEO0FBS0EsTUFBTTtBQUFFYSxFQUFBQSxJQUFJLEdBQUc7QUFBVCxJQUFrQkMsT0FBTyxDQUFDQyxHQUFoQztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFnQixFQUF0QjtBQUNBdEIsR0FBRyxDQUFDdUIsTUFBSixDQUFXSixJQUFYLEVBQWlCLFdBQWpCLEVBQThCLE1BQU07QUFDaENILEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFaO0FBQ0gsQ0FGRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbWFjdXNlci9Eb2N1bWVudHMvTWVyY2VyV2ViQXBwL21lcmNlcnNxbHNlcnZlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0ICdkb3RlbnYvY29uZmlnJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IHsgaXNBdXRoZW50aWNhdGVkTWlkZGxld2FyZSwgY2xpZW50QXV0aGVudGljYXRpb25NaWRkbGV3YXJlLCBjbGllbnRMb2dpbiB9IGZyb20gJy4vdXNlckF1dGhlbnRpY2F0aW9uJztcblxuaW1wb3J0ICogYXMgc3FsU2VydmVyT2JqZWN0IGZyb20gJy4vU1FMU2VydmVyQWNjZXNzLmpzJztcblxuaW1wb3J0IHsgZ2V0RW5yb2xsbWVudCwgcmVnaXN0ZXJTdHVkZW50IH0gZnJvbSAnLi9TUUxTZXJ2ZXJBY2Nlc3MuanMnO1xuXG5cbmNvbnN0IFNFTEVDVF9BTExfREVGQVVMVF9RVUVSWSA9ICdTRUxFQ1QgTG9naW5OYW1lLCBQYXNzLCBTdHVkZW50SUQgRlJPTSBMb2dpbkMnO1xuXG5jb25zdCBTRUxFQ1RfQ0xBU1NfU0NIRURVTEVfREVGQVVMVF9RVUVSWSA9ICdTRUxFQ1QgU2VjdGlvbnMuU2VtZXN0ZXIsIFNlY3Rpb25zLkNvdXJzZUlELCBTZWN0aW9uTnVtYmVyLCBDb3Vyc2VOYW1lLCBQcm9mZXNzb3IuRmlyc3ROYW1lLCBQcm9mZXNzb3IuTGFzdE5hbWUsIERheU9mV2VlaywgVE9ELCBDbGFzc3Jvb21Db2RlLCBDcmVkaXRIciwgTWF4U3R1ZGVudHMsIE51bU9mU3R1ZGVudHMgRlJPTSBTZWN0aW9ucyBKT0lOIENvdXJzZSBPTiBTZWN0aW9ucy5Db3Vyc2VJRCA9IENvdXJzZS5Db3Vyc2VJRCBKT0lOIFByb2Zlc3NvciBPTiBQcm9mZXNzb3IuUHJvZklEID0gU2VjdGlvbnMuUHJvZklEIE9SREVSIEJZIFNlbWVzdGVyLCBDb3Vyc2VJRCwgU2VjdGlvbk51bWJlcic7XG5cblxuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cblxuYXBwLnVzZShjb3JzKCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKGNsaWVudEF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZSk7XG5cbi8vIGFwcC5nZXQoJy9tZXNzYWdlcycsIG1lc3NhZ2VzQ29udHJvbGxlci5nZXRBbGwpO1xuLy8gYXBwLnBvc3QoJy9tZXNzYWdlcycsIG1lc3NhZ2VzQ29udHJvbGxlci5wb3N0KTtcblxuYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zZW5kKCdnbyB0byAvdXNlcnMgdG8gc2VlIHVzZXIgbGlzdCcpO1xufSk7XG5cbmFwcC5wb3N0KCcvY2xpZW50LWxvZ2luJywgY2xpZW50TG9naW4pO1xuXG4vL2FwcC5nZXQoJy91c2VycycsIHNxbFNlcnZlck9iamVjdC5nZXRVc2VyRGF0YShTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlkpKTtcblxuYXBwLmdldCgnL3VzZXJzJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmV0dXJuIHNxbFNlcnZlck9iamVjdC5nZXRVc2VyRGF0YShTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlksIHJlcywgcmVxKTtcbn0pO1xuXG5hcHAuZ2V0KCcvY291cnNlLXNjaGVkdWxlJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmV0dXJuIHNxbFNlcnZlck9iamVjdC5nZXRDb3Vyc2VTY2hlZHVsZURhdGEoU0VMRUNUX0NMQVNTX1NDSEVEVUxFX0RFRkFVTFRfUVVFUlksIHJlcywgcmVxKTtcbn0pO1xuXG5hcHAucG9zdCgnL2Vucm9sbG1lbnQnLCBnZXRFbnJvbGxtZW50KTtcblxuYXBwLnBvc3QoJy9yZWdpc3RlcicsIHJlZ2lzdGVyU3R1ZGVudCk7XG5cbmFwcC5nZXQoJy9jb3Vyc2Utc2NoZWR1bGUvcXVlcnknLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlFVRVJZSU5HXCIpO1xuICAgIHJldHVybiBzcWxTZXJ2ZXJPYmplY3QuZ2V0Q291cnNlU2NoZWR1bGVEYXRhUXVlcnkocmVzLCByZXEpO1xufSk7XG5cbmNvbnN0IHsgUE9SVCA9IDQwMDAgfSA9IHByb2Nlc3MuZW52O1xuY29uc3QgeyBJUEFEUlJFU1MgfSA9ICcnXG5hcHAubGlzdGVuKFBPUlQsICdsb2NhbGhvc3QnLCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1JVTk5JTkcgU0VSVkVSJyk7XG59KTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "SELECT_ALL_DEFAULT_QUERY",
        "SELECT_CLASS_SCHEDULE_DEFAULT_QUERY",
        "app",
        "use",
        "bodyParser",
        "json",
        "clientAuthenticationMiddleware",
        "get",
        "req",
        "res",
        "send",
        "post",
        "clientLogin",
        "sqlServerObject",
        "getUserData",
        "getCourseScheduleData",
        "getEnrollment",
        "registerStudent",
        "console",
        "log",
        "getCourseScheduleDataQuery",
        "PORT",
        "process",
        "env",
        "IPADRRESS",
        "listen"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;AAKA,MAAMA,wBAAwB,GAAG,+CAAjC;AAEA,MAAMC,mCAAmC,GAAG,uVAA5C;AAIA,MAAMC,GAAG,GAAG,uBAAZ;AAGAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQG,kDAAR,E,CAEA;AACA;;AAEAJ,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAS,+BAAT;AACH,CAFD;AAIAR,GAAG,CAACS,IAAJ,CAAS,eAAT,EAA0BC,+BAA1B,E,CAEA;;AAEAV,GAAG,CAACK,GAAJ,CAAQ,QAAR,EAAkB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC5B,SAAOI,eAAe,CAACC,WAAhB,CAA4Bd,wBAA5B,EAAsDS,GAAtD,EAA2DD,GAA3D,CAAP;AACH,CAFD;AAIAN,GAAG,CAACK,GAAJ,CAAQ,kBAAR,EAA4B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACtC,SAAOI,eAAe,CAACE,qBAAhB,CAAsCd,mCAAtC,EAA2EQ,GAA3E,EAAgFD,GAAhF,CAAP;AACH,CAFD;AAIAN,GAAG,CAACS,IAAJ,CAAS,aAAT,EAAwBK,6BAAxB;AAEAd,GAAG,CAACS,IAAJ,CAAS,WAAT,EAAsBM,+BAAtB;AAEAf,GAAG,CAACK,GAAJ,CAAQ,wBAAR,EAAkC,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC5CS,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,SAAON,eAAe,CAACO,0BAAhB,CAA2CX,GAA3C,EAAgDD,GAAhD,CAAP;AACH,CAHD;AAKA,MAAM;AAAEa,EAAAA,IAAI,GAAG;AAAT,IAAkBC,OAAO,CAACC,GAAhC;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAgB,EAAtB;AACAtB,GAAG,CAACuB,MAAJ,CAAWJ,IAAX,EAAiB,WAAjB,EAA8B,MAAM;AAChCH,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH,CAFD",
      "sourceRoot": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "sourcesContent": [
        "import cors from 'cors';\nimport 'dotenv/config';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport { isAuthenticatedMiddleware, clientAuthenticationMiddleware, clientLogin } from './userAuthentication';\n\nimport * as sqlServerObject from './SQLServerAccess.js';\n\nimport { getEnrollment, registerStudent } from './SQLServerAccess.js';\n\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass, StudentID FROM LoginC';\n\nconst SELECT_CLASS_SCHEDULE_DEFAULT_QUERY = 'SELECT Sections.Semester, Sections.CourseID, SectionNumber, CourseName, Professor.FirstName, Professor.LastName, DayOfWeek, TOD, ClassroomCode, CreditHr, MaxStudents, NumOfStudents FROM Sections JOIN Course ON Sections.CourseID = Course.CourseID JOIN Professor ON Professor.ProfID = Sections.ProfID ORDER BY Semester, CourseID, SectionNumber';\n\n\n\nconst app = express();\n\n\napp.use(cors());\napp.use(bodyParser.json());\napp.use(clientAuthenticationMiddleware);\n\n// app.get('/messages', messagesController.getAll);\n// app.post('/messages', messagesController.post);\n\napp.get('/', (req, res) => {\n    res.send('go to /users to see user list');\n});\n\napp.post('/client-login', clientLogin);\n\n//app.get('/users', sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY));\n\napp.get('/users', (req, res) => {\n    return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n});\n\napp.get('/course-schedule', (req, res) => {\n    return sqlServerObject.getCourseScheduleData(SELECT_CLASS_SCHEDULE_DEFAULT_QUERY, res, req);\n});\n\napp.post('/enrollment', getEnrollment);\n\napp.post('/register', registerStudent);\n\napp.get('/course-schedule/query', (req, res) => {\n    console.log(\"QUERYING\");\n    return sqlServerObject.getCourseScheduleDataQuery(res, req);\n});\n\nconst { PORT = 4000 } = process.env;\nconst { IPADRRESS } = ''\napp.listen(PORT, 'localhost', () => {\n    console.log('RUNNING SERVER');\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1596786378958
  },
  "{\"sourceRoot\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver\",\"filename\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver/userAuthentication.js\",\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "babelrc": false,
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "filename": "/Users/macuser/Documents/MercerWebApp/mercersqlserver/userAuthentication.js",
      "configFile": false,
      "envName": "development",
      "root": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-flow-strip-types",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            },
            "ImportDeclaration": {
              "enter": [
                null,
                null
              ]
            },
            "ClassPrivateProperty": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "TypeCastExpression": {
              "enter": [
                null,
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "ImportSpecifier": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "AnyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ArrayTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ClassImplements": {
              "enter": [
                null
              ]
            },
            "DeclareClass": {
              "enter": [
                null
              ]
            },
            "DeclareFunction": {
              "enter": [
                null
              ]
            },
            "DeclareInterface": {
              "enter": [
                null
              ]
            },
            "DeclareModule": {
              "enter": [
                null
              ]
            },
            "DeclareModuleExports": {
              "enter": [
                null
              ]
            },
            "DeclareTypeAlias": {
              "enter": [
                null
              ]
            },
            "DeclareOpaqueType": {
              "enter": [
                null
              ]
            },
            "DeclareVariable": {
              "enter": [
                null
              ]
            },
            "DeclareExportDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclareExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclaredPredicate": {
              "enter": [
                null
              ]
            },
            "ExistsTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeParam": {
              "enter": [
                null
              ]
            },
            "GenericTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "InferredPredicate": {
              "enter": [
                null
              ]
            },
            "InterfaceExtends": {
              "enter": [
                null
              ]
            },
            "InterfaceDeclaration": {
              "enter": [
                null
              ]
            },
            "InterfaceTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "IntersectionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "MixedTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "EmptyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullableTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeInternalSlot": {
              "enter": [
                null
              ]
            },
            "ObjectTypeCallProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeIndexer": {
              "enter": [
                null
              ]
            },
            "ObjectTypeProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeSpreadProperty": {
              "enter": [
                null
              ]
            },
            "OpaqueType": {
              "enter": [
                null
              ]
            },
            "QualifiedTypeIdentifier": {
              "enter": [
                null
              ]
            },
            "StringLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "StringTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "SymbolTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ThisTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TupleTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeofTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeAlias": {
              "enter": [
                null
              ]
            },
            "TypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeParameter": {
              "enter": [
                null
              ]
            },
            "TypeParameterDeclaration": {
              "enter": [
                null
              ]
            },
            "TypeParameterInstantiation": {
              "enter": [
                null
              ]
            },
            "UnionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "Variance": {
              "enter": [
                null
              ]
            },
            "VoidTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/macuser/Documents/MercerWebApp/mercersqlserver/userAuthentication.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          [
            "flow",
            {}
          ]
        ]
      },
      "generatorOpts": {
        "filename": "/Users/macuser/Documents/MercerWebApp/mercersqlserver/userAuthentication.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
        "sourceFileName": "userAuthentication.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encodeToken = encodeToken;\nexports.decodeToken = decodeToken;\nexports.isAuthenticatedMiddleware = isAuthenticatedMiddleware;\nexports.clientLogin = clientLogin;\nexports.clientAuthenticationMiddleware = exports.users = void 0;\n\nvar _njwt = _interopRequireDefault(require(\"njwt\"));\n\nvar sqlServerObject = _interopRequireWildcard(require(\"./SQLServerAccess.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst fetch = require(\"node-fetch\");\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass, StudentID FROM LoginC';\nvar users = {}; // export function getsql(req, res)  {\n//     this.users = sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n//     return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n// };\n\nexports.users = users;\nconst {\n  APP_SECRET = 'Thisismysupersecret123456789secret.youmaynotaccess',\n  APP_BASE_URL = 'http://localhost:4000'\n} = process.env;\n\nfunction encodeToken(tokenData) {\n  return _njwt.default.create(tokenData, APP_SECRET).compact();\n}\n\nfunction decodeToken(token) {\n  return _njwt.default.verify(token, APP_SECRET).body;\n}\n\nconst clientAuthenticationMiddleware = (req, res, next) => {\n  const token = req.header('Access-Token');\n\n  if (!token) {\n    return next();\n  }\n\n  try {\n    const decoded = decodeToken(token);\n    const {\n      userId\n    } = decoded;\n    console.log('decoded', decoded);\n    console.log('userId', userId);\n\n    if (users.find(user => user.id === userId)) {\n      console.log('found user!');\n      req.userId = userId;\n    }\n  } catch (e) {\n    return next();\n  }\n\n  next();\n};\n\nexports.clientAuthenticationMiddleware = clientAuthenticationMiddleware;\n\nasync function isAuthenticatedMiddleware(req, res, next) {\n  if (req.userId) {\n    return next();\n  }\n\n  res.status(401);\n  res.json({\n    error: 'User not authenticated'\n  });\n}\n\n; // This endpoint generates and returns a JWT access token given authentication\n// data.\n\nasync function clientLogin(req, res) {\n  console.log(\"ACCESSING SERVER: Request: \", req.body);\n  await fetch('http://10.0.1.167:4000/users').then(response => response.json()).then(json => {\n    exports.users = users = json;\n  });\n  const {\n    muid,\n    password\n  } = req.body;\n  const user = users.data.recordsets[0].find(user => user.LoginName === muid && user.Pass === password);\n  console.log(user);\n\n  if (!user) {\n    res.status(401);\n    return res.json({\n      error: 'Invalid email or password'\n    });\n  }\n\n  const accessToken = encodeToken({\n    userId: user.StudentID\n  });\n  const MercerID = user.StudentID;\n  return res.json({\n    accessToken,\n    MercerID\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJBdXRoZW50aWNhdGlvbi5qcyJdLCJuYW1lcyI6WyJmZXRjaCIsInJlcXVpcmUiLCJTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlkiLCJ1c2VycyIsIkFQUF9TRUNSRVQiLCJBUFBfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiZW5jb2RlVG9rZW4iLCJ0b2tlbkRhdGEiLCJuand0IiwiY3JlYXRlIiwiY29tcGFjdCIsImRlY29kZVRva2VuIiwidG9rZW4iLCJ2ZXJpZnkiLCJib2R5IiwiY2xpZW50QXV0aGVudGljYXRpb25NaWRkbGV3YXJlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsImRlY29kZWQiLCJ1c2VySWQiLCJjb25zb2xlIiwibG9nIiwiZmluZCIsInVzZXIiLCJpZCIsImUiLCJpc0F1dGhlbnRpY2F0ZWRNaWRkbGV3YXJlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY2xpZW50TG9naW4iLCJ0aGVuIiwicmVzcG9uc2UiLCJtdWlkIiwicGFzc3dvcmQiLCJkYXRhIiwicmVjb3Jkc2V0cyIsIkxvZ2luTmFtZSIsIlBhc3MiLCJhY2Nlc3NUb2tlbiIsIlN0dWRlbnRJRCIsIk1lcmNlcklEIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7OztBQUNBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLFlBQUQsQ0FBckI7O0FBRUEsTUFBTUMsd0JBQXdCLEdBQUcsK0NBQWpDO0FBQ08sSUFBSUMsS0FBSyxHQUFHLEVBQVosQyxDQUVQO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxNQUFNO0FBQ0ZDLEVBQUFBLFVBQVUsR0FBRyxvREFEWDtBQUVGQyxFQUFBQSxZQUFZLEdBQUc7QUFGYixJQUdBQyxPQUFPLENBQUNDLEdBSGQ7O0FBS08sU0FBU0MsV0FBVCxDQUFxQkMsU0FBckIsRUFBZ0M7QUFDbkMsU0FBT0MsY0FBS0MsTUFBTCxDQUFZRixTQUFaLEVBQXVCTCxVQUF2QixFQUFtQ1EsT0FBbkMsRUFBUDtBQUNI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QUNhLElBQUosQ0FBUztBQUFFVyxJQUFBQSxXQUFGO0FBQWVFLElBQUFBO0FBQWYsR0FBVCxDQUFQO0FBQ0giLCJzb3VyY2VSb290IjoiL1VzZXJzL21hY3VzZXIvRG9jdW1lbnRzL01lcmNlcldlYkFwcC9tZXJjZXJzcWxzZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbmp3dCBmcm9tICduand0JztcbmltcG9ydCAqIGFzIHNxbFNlcnZlck9iamVjdCBmcm9tICcuL1NRTFNlcnZlckFjY2Vzcy5qcyc7XG5jb25zdCBmZXRjaCA9IHJlcXVpcmUoXCJub2RlLWZldGNoXCIpO1xuXG5jb25zdCBTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlkgPSAnU0VMRUNUIExvZ2luTmFtZSwgUGFzcywgU3R1ZGVudElEIEZST00gTG9naW5DJztcbmV4cG9ydCB2YXIgdXNlcnMgPSB7fTtcblxuLy8gZXhwb3J0IGZ1bmN0aW9uIGdldHNxbChyZXEsIHJlcykgIHtcbi8vICAgICB0aGlzLnVzZXJzID0gc3FsU2VydmVyT2JqZWN0LmdldFVzZXJEYXRhKFNFTEVDVF9BTExfREVGQVVMVF9RVUVSWSwgcmVzLCByZXEpO1xuLy8gICAgIHJldHVybiBzcWxTZXJ2ZXJPYmplY3QuZ2V0VXNlckRhdGEoU0VMRUNUX0FMTF9ERUZBVUxUX1FVRVJZLCByZXMsIHJlcSk7XG4vLyB9O1xuXG5cbmNvbnN0IHtcbiAgICBBUFBfU0VDUkVUID0gJ1RoaXNpc215c3VwZXJzZWNyZXQxMjM0NTY3ODlzZWNyZXQueW91bWF5bm90YWNjZXNzJyxcbiAgICBBUFBfQkFTRV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDo0MDAwJ1xuICB9ID0gcHJvY2Vzcy5lbnY7XG4gIFxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVRva2VuKHRva2VuRGF0YSkge1xuICAgIHJldHVybiBuand0LmNyZWF0ZSh0b2tlbkRhdGEsIEFQUF9TRUNSRVQpLmNvbXBhY3QoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZVRva2VuKHRva2VuKSB7XG4gICAgcmV0dXJuIG5qd3QudmVyaWZ5KHRva2VuLCBBUFBfU0VDUkVUKS5ib2R5O1xufVxuXG5leHBvcnQgY29uc3QgY2xpZW50QXV0aGVudGljYXRpb25NaWRkbGV3YXJlID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVyKCdBY2Nlc3MtVG9rZW4nKTtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVUb2tlbih0b2tlbik7XG4gICAgICBjb25zdCB7IHVzZXJJZCB9ID0gZGVjb2RlZDtcbiAgXG4gICAgICBjb25zb2xlLmxvZygnZGVjb2RlZCcsIGRlY29kZWQpO1xuICAgICAgY29uc29sZS5sb2coJ3VzZXJJZCcsIHVzZXJJZCk7XG4gIFxuICAgICAgaWYgKHVzZXJzLmZpbmQodXNlciA9PiB1c2VyLmlkID09PSB1c2VySWQpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCB1c2VyIScpO1xuICAgICAgICByZXEudXNlcklkID0gdXNlcklkO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuICBcbiAgICBuZXh0KCk7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkTWlkZGxld2FyZShyZXEsIHJlcywgbmV4dCkge1xuICAgIGlmIChyZXEudXNlcklkKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgXG4gICAgcmVzLnN0YXR1cyg0MDEpO1xuICAgIHJlcy5qc29uKHsgZXJyb3I6ICdVc2VyIG5vdCBhdXRoZW50aWNhdGVkJyB9KTtcbn07XG5cbi8vIFRoaXMgZW5kcG9pbnQgZ2VuZXJhdGVzIGFuZCByZXR1cm5zIGEgSldUIGFjY2VzcyB0b2tlbiBnaXZlbiBhdXRoZW50aWNhdGlvblxuLy8gZGF0YS5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGllbnRMb2dpbihyZXEsIHJlcykge1xuICAgIGNvbnNvbGUubG9nKFwiQUNDRVNTSU5HIFNFUlZFUjogUmVxdWVzdDogXCIsIHJlcS5ib2R5KTtcblxuICAgIGF3YWl0IGZldGNoKCdodHRwOi8vMTAuMC4xLjE2Nzo0MDAwL3VzZXJzJylcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgIHVzZXJzID0ganNvbjtcbiAgICB9KTtcbiAgICBjb25zdCB7IG11aWQsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VyID0gIHVzZXJzLmRhdGEucmVjb3Jkc2V0c1swXS5maW5kKHVzZXIgPT4gdXNlci5Mb2dpbk5hbWUgPT09IG11aWQgJiYgdXNlci5QYXNzID09PSBwYXNzd29yZCk7XG4gICAgY29uc29sZS5sb2codXNlcik7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMSk7XG4gICAgICByZXR1cm4gcmVzLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnIH0pO1xuICAgIH1cbiAgXG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSBlbmNvZGVUb2tlbih7IHVzZXJJZDogdXNlci5TdHVkZW50SUQgfSk7XG4gICAgY29uc3QgTWVyY2VySUQgPSB1c2VyLlN0dWRlbnRJRDtcbiAgICByZXR1cm4gcmVzLmpzb24oeyBhY2Nlc3NUb2tlbiwgTWVyY2VySUQgfSk7XG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "userAuthentication.js"
      ],
      "names": [
        "fetch",
        "require",
        "SELECT_ALL_DEFAULT_QUERY",
        "users",
        "APP_SECRET",
        "APP_BASE_URL",
        "process",
        "env",
        "encodeToken",
        "tokenData",
        "njwt",
        "create",
        "compact",
        "decodeToken",
        "token",
        "verify",
        "body",
        "clientAuthenticationMiddleware",
        "req",
        "res",
        "next",
        "header",
        "decoded",
        "userId",
        "console",
        "log",
        "find",
        "user",
        "id",
        "e",
        "isAuthenticatedMiddleware",
        "status",
        "json",
        "error",
        "clientLogin",
        "then",
        "response",
        "muid",
        "password",
        "data",
        "recordsets",
        "LoginName",
        "Pass",
        "accessToken",
        "StudentID",
        "MercerID"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "sourcesContent": [
        "import njwt from 'njwt';\nimport * as sqlServerObject from './SQLServerAccess.js';\nconst fetch = require(\"node-fetch\");\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass, StudentID FROM LoginC';\nexport var users = {};\n\n// export function getsql(req, res)  {\n//     this.users = sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n//     return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n// };\n\n\nconst {\n    APP_SECRET = 'Thisismysupersecret123456789secret.youmaynotaccess',\n    APP_BASE_URL = 'http://localhost:4000'\n  } = process.env;\n  \nexport function encodeToken(tokenData) {\n    return njwt.create(tokenData, APP_SECRET).compact();\n}\n\nexport function decodeToken(token) {\n    return njwt.verify(token, APP_SECRET).body;\n}\n\nexport const clientAuthenticationMiddleware = (req, res, next) => {\n    const token = req.header('Access-Token');\n    if (!token) {\n      return next();\n    }\n  \n    try {\n      const decoded = decodeToken(token);\n      const { userId } = decoded;\n  \n      console.log('decoded', decoded);\n      console.log('userId', userId);\n  \n      if (users.find(user => user.id === userId)) {\n        console.log('found user!');\n        req.userId = userId;\n      }\n    } catch (e) {\n      return next();\n    }\n  \n    next();\n};\n\nexport async function isAuthenticatedMiddleware(req, res, next) {\n    if (req.userId) {\n      return next();\n    }\n  \n    res.status(401);\n    res.json({ error: 'User not authenticated' });\n};\n\n// This endpoint generates and returns a JWT access token given authentication\n// data.\nexport async function clientLogin(req, res) {\n    console.log(\"ACCESSING SERVER: Request: \", req.body);\n\n    await fetch('http://10.0.1.167:4000/users')\n    .then(response => response.json())\n    .then(json => {\n        users = json;\n    });\n    const { muid, password } = req.body;\n    const user =  users.data.recordsets[0].find(user => user.LoginName === muid && user.Pass === password);\n    console.log(user);\n    if (!user) {\n      res.status(401);\n      return res.json({ error: 'Invalid email or password' });\n    }\n  \n    const accessToken = encodeToken({ userId: user.StudentID });\n    const MercerID = user.StudentID;\n    return res.json({ accessToken, MercerID });\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1589296363949
  },
  "{\"sourceRoot\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver\",\"filename\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver/SQLServerAccess.js\",\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/macuser/Documents/MercerWebApp/mercersqlserver\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "babelrc": false,
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "filename": "/Users/macuser/Documents/MercerWebApp/mercersqlserver/SQLServerAccess.js",
      "configFile": false,
      "envName": "development",
      "root": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-flow-strip-types",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            },
            "ImportDeclaration": {
              "enter": [
                null,
                null
              ]
            },
            "ClassPrivateProperty": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "TypeCastExpression": {
              "enter": [
                null,
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "ImportSpecifier": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "AnyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ArrayTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ClassImplements": {
              "enter": [
                null
              ]
            },
            "DeclareClass": {
              "enter": [
                null
              ]
            },
            "DeclareFunction": {
              "enter": [
                null
              ]
            },
            "DeclareInterface": {
              "enter": [
                null
              ]
            },
            "DeclareModule": {
              "enter": [
                null
              ]
            },
            "DeclareModuleExports": {
              "enter": [
                null
              ]
            },
            "DeclareTypeAlias": {
              "enter": [
                null
              ]
            },
            "DeclareOpaqueType": {
              "enter": [
                null
              ]
            },
            "DeclareVariable": {
              "enter": [
                null
              ]
            },
            "DeclareExportDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclareExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclaredPredicate": {
              "enter": [
                null
              ]
            },
            "ExistsTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeParam": {
              "enter": [
                null
              ]
            },
            "GenericTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "InferredPredicate": {
              "enter": [
                null
              ]
            },
            "InterfaceExtends": {
              "enter": [
                null
              ]
            },
            "InterfaceDeclaration": {
              "enter": [
                null
              ]
            },
            "InterfaceTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "IntersectionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "MixedTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "EmptyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullableTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeInternalSlot": {
              "enter": [
                null
              ]
            },
            "ObjectTypeCallProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeIndexer": {
              "enter": [
                null
              ]
            },
            "ObjectTypeProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeSpreadProperty": {
              "enter": [
                null
              ]
            },
            "OpaqueType": {
              "enter": [
                null
              ]
            },
            "QualifiedTypeIdentifier": {
              "enter": [
                null
              ]
            },
            "StringLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "StringTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "SymbolTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ThisTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TupleTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeofTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeAlias": {
              "enter": [
                null
              ]
            },
            "TypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeParameter": {
              "enter": [
                null
              ]
            },
            "TypeParameterDeclaration": {
              "enter": [
                null
              ]
            },
            "TypeParameterInstantiation": {
              "enter": [
                null
              ]
            },
            "UnionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "Variance": {
              "enter": [
                null
              ]
            },
            "VoidTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/macuser/Documents/MercerWebApp/mercersqlserver/SQLServerAccess.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          [
            "flow",
            {}
          ]
        ]
      },
      "generatorOpts": {
        "filename": "/Users/macuser/Documents/MercerWebApp/mercersqlserver/SQLServerAccess.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
        "sourceFileName": "SQLServerAccess.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUserData = getUserData;\nexports.getCourseScheduleData = getCourseScheduleData;\nexports.getEnrollment = getEnrollment;\nexports.registerStudent = registerStudent;\nexports.getCourseScheduleDataQuery = getCourseScheduleDataQuery;\n\nconst express = require('express');\n\nconst cors = require('cors');\n\nconst mssql = require('mssql');\n\nconst fetch = require(\"node-fetch\");\n\nconst app = express(); //const SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass FROM LoginC';\n\nvar config = {\n  server: 'csdata.cd4sevot432y.us-east-1.rds.amazonaws.com',\n  user: 'csc312cloud',\n  password: 'c3s!c2Cld',\n  database: 'CIS-C'\n};\n\nfunction getUserIdFromAuthenticatedRequest(req) {\n  return req.userId;\n}\n\nmssql.connect(config, function (err) {\n  if (err) console.log(err);\n});\napp.use(cors()); // app.get('/', (req, res) => {\n//     res.send('go to /users to see user list');\n// });\n// app.get('/users', (req, res) => {\n//     return getUserData;\n// });\n\nasync function getUserData(sqlQuery, res, req) {\n  var request = new mssql.Request();\n  request.query(sqlQuery, function (err, results) {\n    if (err) {\n      return res.send(err);\n    } else {\n      return res.json({\n        data: results\n      });\n    }\n  });\n}\n\nasync function getCourseScheduleData(sqlQuery, res, req) {\n  var request = new mssql.Request();\n  request.query(sqlQuery, function (err, results) {\n    if (err) {\n      return res.send(err);\n    } else {\n      return res.json({\n        data: results\n      });\n    }\n  });\n}\n\nasync function getEnrollment(req, res) {\n  const {\n    muid\n  } = req.body;\n  const SELECT_ENROLLMENT_DEFAULT_QUERY = \"SELECT Sections.Semester, Sections.CourseID, SectionNumber, CourseName, Professor.LastName, DayOfWeek, CreditHr FROM Sections JOIN Course ON Sections.CourseID = Course.CourseID JOIN Professor ON Professor.ProfID = Sections.ProfID JOIN Enrollment ON Enrollment.SectionID = Sections.SectionID WHERE Enrollment.MUID = '\" + muid + \"' ORDER BY Semester, CourseID, SectionNumber\";\n  var request = new mssql.Request();\n  request.query(SELECT_ENROLLMENT_DEFAULT_QUERY, function (err, results) {\n    if (err) {\n      return res.send(err);\n    } else {\n      return res.json({\n        data: results\n      });\n    }\n  });\n}\n\nfunction isSubmitted(arrObj, checkArrObj) {\n  for (let i = 0; i < arrObj.length; i++) {\n    console.log(\"FIRST ARRAY: \");\n    console.log(arrObj[i]);\n    console.log(\"SECOND ARRAY: \");\n    console.log(checkArrObj);\n    console.log(JSON.stringify(arrObj[i]) === JSON.stringify(checkArrObj));\n\n    if (JSON.stringify(arrObj[i]) === JSON.stringify(checkArrObj)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nasync function registerStudent(req, res) {\n  console.log(req.body);\n  var submittedSections = [];\n  var returnToClient = [];\n  console.log(req.body.length);\n\n  for (let i = 0; i < req.body.length; i++) {\n    const checkArr = {\n      courseID: req.body[i]['courseId'],\n      courseSection: req.body[i]['courseSection']\n    };\n\n    if (!isSubmitted(submittedSections, checkArr)) {\n      submittedSections.push({\n        courseID: req.body[i]['courseId'],\n        courseSection: req.body[i]['courseSection']\n      });\n      const sectionQuery = \"SELECT SectionID FROM Sections WHERE SectionNumber = '\" + req.body[i]['courseSection'] + \"' AND CourseID = '\" + req.body[i]['courseId'] + \"' AND Semester = '\" + req.body[i]['semester'] + \"'\";\n      var request = new mssql.Request();\n      request.query(sectionQuery, function (err, results) {\n        if (err) {\n          console.log(err);\n          return res.send(err);\n        } else {\n          console.log(results);\n          var REGISTRATION_QUERY = \"INSERT INTO Enrollment VALUES\";\n\n          for (let j = 0; j < results.recordset.length; j++) {\n            REGISTRATION_QUERY += \" ('\" + req.body[i]['muid'] + \"', \" + results.recordset[j].SectionID + \")\";\n            REGISTRATION_QUERY += j === results.recordset.length - 1 ? '' : ', ';\n          }\n\n          console.log(REGISTRATION_QUERY);\n          var registerReq = new mssql.Request();\n          registerReq.query(REGISTRATION_QUERY, function (error, success) {\n            if (error) {\n              console.log(error);\n              return res.send(error);\n            } else {\n              console.log(success);\n              returnToClient.push(success);\n            }\n          });\n        }\n      });\n    }\n  }\n\n  return res.send({\n    success: 'Success'\n  });\n}\n\napp.get('/users/query', (req, res) => {\n  const {\n    username,\n    password\n  } = req.query;\n  const QUERY_USERS = \"SELECT StudentID, ProfID FROM LoginC WHERE LoginName = '\" + username + \"' AND Pass = '\" + password + \"'\";\n  console.log(QUERY_USERS);\n  var request = new mssql.Request();\n  request.query(QUERY_USERS, function (err, results) {\n    if (err) {\n      return res.send(err);\n    } else {\n      return res.json({\n        data: results\n      });\n    }\n  });\n});\n\nasync function getCourseScheduleDataQuery(res, req) {\n  const {\n    semester\n  } = req.query;\n  const SQL_QUERY = \"SELECT Sections.CourseID, SectionNumber, CourseName, Professor.FirstName, Professor.LastName, DayOfWeek, TOD, ClassroomCode, CreditHr, MaxStudents, NumOfStudents FROM Sections JOIN Course ON Sections.CourseID = Course.CourseID JOIN Professor ON Professor.ProfID = Sections.ProfID WHERE Semester = '\" + semester + \"' ORDER BY Semester, CourseID, SectionNumber\";\n  var request = new mssql.Request();\n  request.query(SQL_QUERY, function (err, results) {\n    if (err) {\n      return res.send(err);\n    } else {\n      return res.json({\n        data: results\n      });\n    }\n  });\n} // app.listen(4000, () => {\n//     console.log('SQL Server listening on port 4000');\n// });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNRTFNlcnZlckFjY2Vzcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNvcnMiLCJtc3NxbCIsImZldGNoIiwiYXBwIiwiY29uZmlnIiwic2VydmVyIiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJnZXRVc2VySWRGcm9tQXV0aGVudGljYXRlZFJlcXVlc3QiLCJyZXEiLCJ1c2VySWQiLCJjb25uZWN0IiwiZXJyIiwiY29uc29sZSIsImxvZyIsInVzZSIsImdldFVzZXJEYXRhIiwic3FsUXVlcnkiLCJyZXMiLCJyZXF1ZXN0IiwiUmVxdWVzdCIsInF1ZXJ5IiwicmVzdWx0cyIsInNlbmQiLCJqc29uIiwiZGF0YSIsImdldENvdXJzZVNjaGVkdWxlRGF0YSIsImdldEVucm9sbG1lbnQiLCJtdWlkIiwiYm9keSIsIlNFTEVDVF9FTlJPTExNRU5UX0RFRkFVTFRfUVVFUlkiLCJpc1N1Ym1pdHRlZCIsImFyck9iaiIsImNoZWNrQXJyT2JqIiwiaSIsImxlbmd0aCIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZWdpc3RlclN0dWRlbnQiLCJzdWJtaXR0ZWRTZWN0aW9ucyIsInJldHVyblRvQ2xpZW50IiwiY2hlY2tBcnIiLCJjb3Vyc2VJRCIsImNvdXJzZVNlY3Rpb24iLCJwdXNoIiwic2VjdGlvblF1ZXJ5IiwiUkVHSVNUUkFUSU9OX1FVRVJZIiwiaiIsInJlY29yZHNldCIsIlNlY3Rpb25JRCIsInJlZ2lzdGVyUmVxIiwiZXJyb3IiLCJzdWNjZXNzIiwiZ2V0IiwidXNlcm5hbWUiLCJRVUVSWV9VU0VSUyIsImdldENvdXJzZVNjaGVkdWxlRGF0YVF1ZXJ5Iiwic2VtZXN0ZXIiLCJTUUxfUVVFUlkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1FLEtBQUssR0FBR0Ys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Um9vdCI6Ii9Vc2Vycy9tYWN1c2VyL0RvY3VtZW50cy9NZXJjZXJXZWJBcHAvbWVyY2Vyc3Fsc2VydmVyIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7XG5jb25zdCBtc3NxbCA9IHJlcXVpcmUoJ21zc3FsJyk7XG5jb25zdCBmZXRjaCA9IHJlcXVpcmUoXCJub2RlLWZldGNoXCIpO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbi8vY29uc3QgU0VMRUNUX0FMTF9ERUZBVUxUX1FVRVJZID0gJ1NFTEVDVCBMb2dpbk5hbWUsIFBhc3MgRlJPTSBMb2dpbkMnO1xuXG4gICAgdmFyIGNvbmZpZyAgPSB7XG4gICAgICAgIHNlcnZlciAgICAgICAgICAgIDogJ2NzZGF0YS5jZDRzZXZvdDQzMnkudXMtZWFzdC0xLnJkcy5hbWF6b25hd3MuY29tJyxcbiAgICAgICAgdXNlciAgICAgICAgICAgIDogJ2NzYzMxMmNsb3VkJyxcbiAgICAgICAgcGFzc3dvcmQgICAgICAgIDogJ2MzcyFjMkNsZCcsXG4gICAgICAgIGRhdGFiYXNlICAgICAgICA6ICdDSVMtQydcbiAgICB9O1xuICBcblxuZnVuY3Rpb24gZ2V0VXNlcklkRnJvbUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcSkge1xuICAgIHJldHVybiByZXEudXNlcklkO1xufVxuXG5tc3NxbC5jb25uZWN0KGNvbmZpZywgZnVuY3Rpb24oZXJyKSB7XG4gICAgaWYoZXJyKVxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xufSlcblxuYXBwLnVzZShjb3JzKCkpO1xuXG4vLyBhcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4vLyAgICAgcmVzLnNlbmQoJ2dvIHRvIC91c2VycyB0byBzZWUgdXNlciBsaXN0Jyk7XG4vLyB9KTtcblxuLy8gYXBwLmdldCgnL3VzZXJzJywgKHJlcSwgcmVzKSA9PiB7XG4vLyAgICAgcmV0dXJuIGdldFVzZXJEYXRhO1xuLy8gfSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyRGF0YShzcWxRdWVyeSwgcmVzLCByZXEpIHtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBtc3NxbC5SZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5xdWVyeShzcWxRdWVyeSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgICAgICBpZihlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc2VuZChlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0pXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb3Vyc2VTY2hlZHVsZURhdGEoc3FsUXVlcnksIHJlcywgcmVxKSB7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgbXNzcWwuUmVxdWVzdCgpO1xuICAgIHJlcXVlc3QucXVlcnkoc3FsUXVlcnksIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgaWYoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnNlbmQoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVucm9sbG1lbnQocmVxLCByZXMpIHtcbiAgICBjb25zdCB7IG11aWQgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IFNFTEVDVF9FTlJPTExNRU5UX0RFRkFVTFRfUVVFUlkgPSBcIlNFTEVDVCBTZWN0aW9ucy5TZW1lc3RlciwgU2VjdGlvbnMuQ291cnNlSUQsIFNlY3Rpb25OdW1iZXIsIENvdXJzZU5hbWUsIFByb2Zlc3Nvci5MYXN0TmFtZSwgRGF5T2ZXZWVrLCBDcmVkaXRIciBGUk9NIFNlY3Rpb25zIEpPSU4gQ291cnNlIE9OIFNlY3Rpb25zLkNvdXJzZUlEID0gQ291cnNlLkNvdXJzZUlEIEpPSU4gUHJvZmVzc29yIE9OIFByb2Zlc3Nvci5Qcm9mSUQgPSBTZWN0aW9ucy5Qcm9mSUQgSk9JTiBFbnJvbGxtZW50IE9OIEVucm9sbG1lbnQuU2VjdGlvbklEID0gU2VjdGlvbnMuU2VjdGlvbklEIFdIRVJFIEVucm9sbG1lbnQuTVVJRCA9ICdcIittdWlkK1wiJyBPUkRFUiBCWSBTZW1lc3RlciwgQ291cnNlSUQsIFNlY3Rpb25OdW1iZXJcIjtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBtc3NxbC5SZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5xdWVyeShTRUxFQ1RfRU5ST0xMTUVOVF9ERUZBVUxUX1FVRVJZLCBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zZW5kKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGlzU3VibWl0dGVkKGFyck9iaiwgY2hlY2tBcnJPYmopIHtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgYXJyT2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRklSU1QgQVJSQVk6IFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coYXJyT2JqW2ldKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJTRUNPTkQgQVJSQVk6IFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coY2hlY2tBcnJPYmopO1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShhcnJPYmpbaV0pID09PSBKU09OLnN0cmluZ2lmeShjaGVja0Fyck9iaikpXG4gICAgICAgIGlmKEpTT04uc3RyaW5naWZ5KGFyck9ialtpXSkgPT09IEpTT04uc3RyaW5naWZ5KGNoZWNrQXJyT2JqKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWdpc3RlclN0dWRlbnQocmVxLCByZXMpIHtcbiAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG4gICAgdmFyIHN1Ym1pdHRlZFNlY3Rpb25zID0gW107XG4gICAgdmFyIHJldHVyblRvQ2xpZW50ID0gW107XG4gICAgY29uc29sZS5sb2cocmVxLmJvZHkubGVuZ3RoKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpPHJlcS5ib2R5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrQXJyID0ge2NvdXJzZUlEOiByZXEuYm9keVtpXVsnY291cnNlSWQnXSwgY291cnNlU2VjdGlvbjogcmVxLmJvZHlbaV1bJ2NvdXJzZVNlY3Rpb24nXX1cbiAgICAgICAgaWYoIWlzU3VibWl0dGVkKHN1Ym1pdHRlZFNlY3Rpb25zLCBjaGVja0FycikpIHtcbiAgICAgICAgICAgIHN1Ym1pdHRlZFNlY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvdXJzZUlEOiByZXEuYm9keVtpXVsnY291cnNlSWQnXSxcbiAgICAgICAgICAgICAgICBjb3Vyc2VTZWN0aW9uOiByZXEuYm9keVtpXVsnY291cnNlU2VjdGlvbiddXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25RdWVyeSA9IFwiU0VMRUNUIFNlY3Rpb25JRCBGUk9NIFNlY3Rpb25zIFdIRVJFIFNlY3Rpb25OdW1iZXIgPSAnXCIgK3JlcS5ib2R5W2ldWydjb3Vyc2VTZWN0aW9uJ10rXCInIEFORCBDb3Vyc2VJRCA9ICdcIiArIHJlcS5ib2R5W2ldWydjb3Vyc2VJZCddK1wiJyBBTkQgU2VtZXN0ZXIgPSAnXCIrcmVxLmJvZHlbaV1bJ3NlbWVzdGVyJ10rXCInXCI7XG4gICAgXG4gICAgXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBtc3NxbC5SZXF1ZXN0KCk7XG4gICAgICAgICAgICByZXF1ZXN0LnF1ZXJ5KHNlY3Rpb25RdWVyeSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnNlbmQoZXJyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIFJFR0lTVFJBVElPTl9RVUVSWSA9IFwiSU5TRVJUIElOVE8gRW5yb2xsbWVudCBWQUxVRVNcIjtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHJlc3VsdHMucmVjb3Jkc2V0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSRUdJU1RSQVRJT05fUVVFUlkgKz0gXCIgKCdcIityZXEuYm9keVtpXVsnbXVpZCddK1wiJywgXCIrcmVzdWx0cy5yZWNvcmRzZXRbal0uU2VjdGlvbklEK1wiKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgUkVHSVNUUkFUSU9OX1FVRVJZICs9IChqID09PSByZXN1bHRzLnJlY29yZHNldC5sZW5ndGgtMSkgPyAnJzonLCAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFJFR0lTVFJBVElPTl9RVUVSWSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWdpc3RlclJlcSA9IG5ldyBtc3NxbC5SZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUmVxLnF1ZXJ5KFJFR0lTVFJBVElPTl9RVUVSWSwgZnVuY3Rpb24gKGVycm9yLCBzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnNlbmQoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdWNjZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5Ub0NsaWVudC5wdXNoKHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIHJldHVybiByZXMuc2VuZCh7IHN1Y2Nlc3M6ICdTdWNjZXNzJ30pO1xufVxuXG5cbmFwcC5nZXQoJy91c2Vycy9xdWVyeScsIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEucXVlcnk7XG4gICAgY29uc3QgUVVFUllfVVNFUlMgPSBcIlNFTEVDVCBTdHVkZW50SUQsIFByb2ZJRCBGUk9NIExvZ2luQyBXSEVSRSBMb2dpbk5hbWUgPSAnXCIrdXNlcm5hbWUrXCInIEFORCBQYXNzID0gJ1wiK3Bhc3N3b3JkK1wiJ1wiO1xuICAgIGNvbnNvbGUubG9nKFFVRVJZX1VTRVJTKTtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBtc3NxbC5SZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5xdWVyeShRVUVSWV9VU0VSUywgZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuXG4gICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zZW5kKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0pO1xufSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb3Vyc2VTY2hlZHVsZURhdGFRdWVyeShyZXMsIHJlcSkge1xuICAgIGNvbnN0IHsgc2VtZXN0ZXIgfSA9IHJlcS5xdWVyeTtcbiAgICBjb25zdCBTUUxfUVVFUlkgPSBcIlNFTEVDVCBTZWN0aW9ucy5Db3Vyc2VJRCwgU2VjdGlvbk51bWJlciwgQ291cnNlTmFtZSwgUHJvZmVzc29yLkZpcnN0TmFtZSwgUHJvZmVzc29yLkxhc3ROYW1lLCBEYXlPZldlZWssIFRPRCwgQ2xhc3Nyb29tQ29kZSwgQ3JlZGl0SHIsIE1heFN0dWRlbnRzLCBOdW1PZlN0dWRlbnRzIEZST00gU2VjdGlvbnMgSk9JTiBDb3Vyc2UgT04gU2VjdGlvbnMuQ291cnNlSUQgPSBDb3Vyc2UuQ291cnNlSUQgSk9JTiBQcm9mZXNzb3IgT04gUHJvZmVzc29yLlByb2ZJRCA9IFNlY3Rpb25zLlByb2ZJRCBXSEVSRSBTZW1lc3RlciA9ICdcIitzZW1lc3RlcitcIicgT1JERVIgQlkgU2VtZXN0ZXIsIENvdXJzZUlELCBTZWN0aW9uTnVtYmVyXCI7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgbXNzcWwuUmVxdWVzdCgpO1xuICAgIHJlcXVlc3QucXVlcnkoU1FMX1FVRVJZLCBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zZW5kKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0pXG59XG5cbi8vIGFwcC5saXN0ZW4oNDAwMCwgKCkgPT4ge1xuXG4vLyAgICAgY29uc29sZS5sb2coJ1NRTCBTZXJ2ZXIgbGlzdGVuaW5nIG9uIHBvcnQgNDAwMCcpO1xuXG4vLyB9KTtcblxuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "SQLServerAccess.js"
      ],
      "names": [
        "express",
        "require",
        "cors",
        "mssql",
        "fetch",
        "app",
        "config",
        "server",
        "user",
        "password",
        "database",
        "getUserIdFromAuthenticatedRequest",
        "req",
        "userId",
        "connect",
        "err",
        "console",
        "log",
        "use",
        "getUserData",
        "sqlQuery",
        "res",
        "request",
        "Request",
        "query",
        "results",
        "send",
        "json",
        "data",
        "getCourseScheduleData",
        "getEnrollment",
        "muid",
        "body",
        "SELECT_ENROLLMENT_DEFAULT_QUERY",
        "isSubmitted",
        "arrObj",
        "checkArrObj",
        "i",
        "length",
        "JSON",
        "stringify",
        "registerStudent",
        "submittedSections",
        "returnToClient",
        "checkArr",
        "courseID",
        "courseSection",
        "push",
        "sectionQuery",
        "REGISTRATION_QUERY",
        "j",
        "recordset",
        "SectionID",
        "registerReq",
        "error",
        "success",
        "get",
        "username",
        "QUERY_USERS",
        "getCourseScheduleDataQuery",
        "semester",
        "SQL_QUERY"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/macuser/Documents/MercerWebApp/mercersqlserver",
      "sourcesContent": [
        "const express = require('express');\nconst cors = require('cors');\nconst mssql = require('mssql');\nconst fetch = require(\"node-fetch\");\n\nconst app = express();\n\n//const SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass FROM LoginC';\n\n    var config  = {\n        server            : 'csdata.cd4sevot432y.us-east-1.rds.amazonaws.com',\n        user            : 'csc312cloud',\n        password        : 'c3s!c2Cld',\n        database        : 'CIS-C'\n    };\n  \n\nfunction getUserIdFromAuthenticatedRequest(req) {\n    return req.userId;\n}\n\nmssql.connect(config, function(err) {\n    if(err)\n        console.log(err);\n})\n\napp.use(cors());\n\n// app.get('/', (req, res) => {\n//     res.send('go to /users to see user list');\n// });\n\n// app.get('/users', (req, res) => {\n//     return getUserData;\n// });\n\nexport async function getUserData(sqlQuery, res, req) {\n    var request = new mssql.Request();\n    request.query(sqlQuery, function (err, results) {\n        if(err) {\n            return res.send(err);\n        } else {\n            \n            return res.json({\n                data: results\n            });\n        }\n        \n    })\n}\n\nexport async function getCourseScheduleData(sqlQuery, res, req) {\n    var request = new mssql.Request();\n    request.query(sqlQuery, function (err, results) {\n        if(err) {\n            return res.send(err);\n        } else {\n            return res.json({\n                data: results\n            });\n        }\n        \n    })\n}\n\nexport async function getEnrollment(req, res) {\n    const { muid } = req.body;\n    const SELECT_ENROLLMENT_DEFAULT_QUERY = \"SELECT Sections.Semester, Sections.CourseID, SectionNumber, CourseName, Professor.LastName, DayOfWeek, CreditHr FROM Sections JOIN Course ON Sections.CourseID = Course.CourseID JOIN Professor ON Professor.ProfID = Sections.ProfID JOIN Enrollment ON Enrollment.SectionID = Sections.SectionID WHERE Enrollment.MUID = '\"+muid+\"' ORDER BY Semester, CourseID, SectionNumber\";\n    var request = new mssql.Request();\n    request.query(SELECT_ENROLLMENT_DEFAULT_QUERY, function (err, results) {\n        if(err) {\n            return res.send(err);\n        } else {\n            return res.json({\n                data: results\n            });\n        }\n        \n    })\n}\n\nfunction isSubmitted(arrObj, checkArrObj) {\n    for(let i = 0; i < arrObj.length; i++) {\n        console.log(\"FIRST ARRAY: \");\n        console.log(arrObj[i]);\n        console.log(\"SECOND ARRAY: \");\n        console.log(checkArrObj);\n        console.log(JSON.stringify(arrObj[i]) === JSON.stringify(checkArrObj))\n        if(JSON.stringify(arrObj[i]) === JSON.stringify(checkArrObj)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport async function registerStudent(req, res) {\n    console.log(req.body);\n    var submittedSections = [];\n    var returnToClient = [];\n    console.log(req.body.length);\n    for(let i = 0; i<req.body.length; i++) {\n        const checkArr = {courseID: req.body[i]['courseId'], courseSection: req.body[i]['courseSection']}\n        if(!isSubmitted(submittedSections, checkArr)) {\n            submittedSections.push({\n                courseID: req.body[i]['courseId'],\n                courseSection: req.body[i]['courseSection']\n            });\n            const sectionQuery = \"SELECT SectionID FROM Sections WHERE SectionNumber = '\" +req.body[i]['courseSection']+\"' AND CourseID = '\" + req.body[i]['courseId']+\"' AND Semester = '\"+req.body[i]['semester']+\"'\";\n    \n    \n            var request = new mssql.Request();\n            request.query(sectionQuery, function (err, results) {\n                if(err) {\n                    console.log(err);\n                    return res.send(err);\n                } else {\n                    console.log(results);\n                    var REGISTRATION_QUERY = \"INSERT INTO Enrollment VALUES\";\n                    for(let j = 0; j < results.recordset.length; j++) {\n                        REGISTRATION_QUERY += \" ('\"+req.body[i]['muid']+\"', \"+results.recordset[j].SectionID+\")\";\n                        REGISTRATION_QUERY += (j === results.recordset.length-1) ? '':', ';\n                    }\n                    console.log(REGISTRATION_QUERY);\n                    var registerReq = new mssql.Request();\n                    registerReq.query(REGISTRATION_QUERY, function (error, success) {\n                        if(error) {\n                            console.log(error);\n                            return res.send(error);\n                        } else {\n                            console.log(success);\n                            returnToClient.push(success);\n                        }\n                        \n                    })\n                }\n                \n            })\n        }\n\n    }\n    return res.send({ success: 'Success'});\n}\n\n\napp.get('/users/query', (req, res) => {\n    const { username, password } = req.query;\n    const QUERY_USERS = \"SELECT StudentID, ProfID FROM LoginC WHERE LoginName = '\"+username+\"' AND Pass = '\"+password+\"'\";\n    console.log(QUERY_USERS);\n    var request = new mssql.Request();\n    request.query(QUERY_USERS, function (err, results) {\n\n        if(err) {\n            return res.send(err);\n        } else {\n            return res.json({\n                data: results\n            });\n        }\n        \n    });\n});\n\nexport async function getCourseScheduleDataQuery(res, req) {\n    const { semester } = req.query;\n    const SQL_QUERY = \"SELECT Sections.CourseID, SectionNumber, CourseName, Professor.FirstName, Professor.LastName, DayOfWeek, TOD, ClassroomCode, CreditHr, MaxStudents, NumOfStudents FROM Sections JOIN Course ON Sections.CourseID = Course.CourseID JOIN Professor ON Professor.ProfID = Sections.ProfID WHERE Semester = '\"+semester+\"' ORDER BY Semester, CourseID, SectionNumber\";\n    var request = new mssql.Request();\n    request.query(SQL_QUERY, function (err, results) {\n        if(err) {\n            return res.send(err);\n        } else {\n            return res.json({\n                data: results\n            });\n        }\n        \n    })\n}\n\n// app.listen(4000, () => {\n\n//     console.log('SQL Server listening on port 4000');\n\n// });\n\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1589308480645
  },
  "{\"sourceRoot\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver\",\"filename\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/server.js\",\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "babelrc": false,
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "filename": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/server.js",
      "configFile": false,
      "envName": "development",
      "root": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-flow-strip-types",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            },
            "ImportDeclaration": {
              "enter": [
                null,
                null
              ]
            },
            "ClassPrivateProperty": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "TypeCastExpression": {
              "enter": [
                null,
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "ImportSpecifier": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "AnyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ArrayTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ClassImplements": {
              "enter": [
                null
              ]
            },
            "DeclareClass": {
              "enter": [
                null
              ]
            },
            "DeclareFunction": {
              "enter": [
                null
              ]
            },
            "DeclareInterface": {
              "enter": [
                null
              ]
            },
            "DeclareModule": {
              "enter": [
                null
              ]
            },
            "DeclareModuleExports": {
              "enter": [
                null
              ]
            },
            "DeclareTypeAlias": {
              "enter": [
                null
              ]
            },
            "DeclareOpaqueType": {
              "enter": [
                null
              ]
            },
            "DeclareVariable": {
              "enter": [
                null
              ]
            },
            "DeclareExportDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclareExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclaredPredicate": {
              "enter": [
                null
              ]
            },
            "ExistsTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeParam": {
              "enter": [
                null
              ]
            },
            "GenericTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "InferredPredicate": {
              "enter": [
                null
              ]
            },
            "InterfaceExtends": {
              "enter": [
                null
              ]
            },
            "InterfaceDeclaration": {
              "enter": [
                null
              ]
            },
            "InterfaceTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "IntersectionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "MixedTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "EmptyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullableTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeInternalSlot": {
              "enter": [
                null
              ]
            },
            "ObjectTypeCallProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeIndexer": {
              "enter": [
                null
              ]
            },
            "ObjectTypeProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeSpreadProperty": {
              "enter": [
                null
              ]
            },
            "OpaqueType": {
              "enter": [
                null
              ]
            },
            "QualifiedTypeIdentifier": {
              "enter": [
                null
              ]
            },
            "StringLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "StringTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "SymbolTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ThisTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TupleTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeofTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeAlias": {
              "enter": [
                null
              ]
            },
            "TypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeParameter": {
              "enter": [
                null
              ]
            },
            "TypeParameterDeclaration": {
              "enter": [
                null
              ]
            },
            "TypeParameterInstantiation": {
              "enter": [
                null
              ]
            },
            "UnionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "Variance": {
              "enter": [
                null
              ]
            },
            "VoidTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/server.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          [
            "flow",
            {}
          ]
        ]
      },
      "generatorOpts": {
        "filename": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nrequire(\"dotenv/config\");\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _userAuthentication = require(\"./userAuthentication\");\n\nvar sqlServerObject = _interopRequireWildcard(require(\"./SQLServerAccess.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass, StudentID FROM LoginC';\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.json());\napp.use(_userAuthentication.clientAuthenticationMiddleware); // app.get('/messages', messagesController.getAll);\n// app.post('/messages', messagesController.post);\n\napp.get('/', (req, res) => {\n  res.send('go to /users to see user list');\n});\napp.post('/client-login', _userAuthentication.clientLogin);\napp.get('/users', (req, res) => {\n  return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n});\nconst {\n  PORT = 4000\n} = process.env;\nconst {\n  IPADRRESS\n} = '';\napp.listen(PORT, 'localhost', () => {\n  console.log('RUNNING SERVER');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlkiLCJhcHAiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsImNsaWVudEF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZSIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJwb3N0IiwiY2xpZW50TG9naW4iLCJzcWxTZXJ2ZXJPYmplY3QiLCJnZXRVc2VyRGF0YSIsIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwiSVBBRFJSRVNTIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7Ozs7Ozs7QUFFQSxNQUFNQSx3QkFBd0IsR0FBRywrQ0FBakM7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFFQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVI7QUFDQUQsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVFHLGtEQUFSLEUsQ0FFQTtBQUNBOztBQUVBSixHQUFHLENBQUNLLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkJBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTLCtCQUFUO0FBQ0gsQ0FGRDtBQUlBUixHQUFHLENBQUNTLElBQUosQ0FBUyxlQUFULEVBQTBCQywrQkFBMUI7QUFFQVYsR0FBRyxDQUFDSyxHQUFKLENBQVEsUUFBUixFQUFrQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUM1QixTQUFPSSxlQUFlLENBQUNDLFdBQWhCLENBQTRCYix3QkFBNUIsRUFBc0RRLEdBQXRELEVBQTJERCxHQUEzRCxDQUFQO0FBQ0gsQ0FGRDtBQUlBLE1BQU07QUFBRU8sRUFBQUEsSUFBSSxHQUFHO0FBQVQsSUFBa0JDLE9BQU8sQ0FBQ0MsR0FBaEM7QUFDQSxNQUFNO0FBQUVDLEVBQUFBO0FBQUYsSUFBZ0IsRUFBdEI7QUFDQWhCLEdBQUcsQ0FBQ2lCLE1BQUosQ0FBV0osSUFBWCxFQUFpQixXQUFqQixFQUE4QixNQUFNO0FBQ2hDSyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWjtBQUNILENBRkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FhYmlya2hpbWFuaS9EZXNrdG9wL0NhbXB1c01hcC9jc2MtNDgwLWNhbXB1cy1tYXAvbWVyY2Vyc3Fsc2VydmVyIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgJ2RvdGVudi9jb25maWcnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgeyBpc0F1dGhlbnRpY2F0ZWRNaWRkbGV3YXJlLCBjbGllbnRBdXRoZW50aWNhdGlvbk1pZGRsZXdhcmUsIGNsaWVudExvZ2luIH0gZnJvbSAnLi91c2VyQXV0aGVudGljYXRpb24nO1xuXG5pbXBvcnQgKiBhcyBzcWxTZXJ2ZXJPYmplY3QgZnJvbSAnLi9TUUxTZXJ2ZXJBY2Nlc3MuanMnO1xuXG5jb25zdCBTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlkgPSAnU0VMRUNUIExvZ2luTmFtZSwgUGFzcywgU3R1ZGVudElEIEZST00gTG9naW5DJztcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoY2xpZW50QXV0aGVudGljYXRpb25NaWRkbGV3YXJlKTtcblxuLy8gYXBwLmdldCgnL21lc3NhZ2VzJywgbWVzc2FnZXNDb250cm9sbGVyLmdldEFsbCk7XG4vLyBhcHAucG9zdCgnL21lc3NhZ2VzJywgbWVzc2FnZXNDb250cm9sbGVyLnBvc3QpO1xuXG5hcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmQoJ2dvIHRvIC91c2VycyB0byBzZWUgdXNlciBsaXN0Jyk7XG59KTtcblxuYXBwLnBvc3QoJy9jbGllbnQtbG9naW4nLCBjbGllbnRMb2dpbik7XG5cbmFwcC5nZXQoJy91c2VycycsIChyZXEsIHJlcykgPT4ge1xuICAgIHJldHVybiBzcWxTZXJ2ZXJPYmplY3QuZ2V0VXNlckRhdGEoU0VMRUNUX0FMTF9ERUZBVUxUX1FVRVJZLCByZXMsIHJlcSk7XG59KTtcblxuY29uc3QgeyBQT1JUID0gNDAwMCB9ID0gcHJvY2Vzcy5lbnY7XG5jb25zdCB7IElQQURSUkVTUyB9ID0gJydcbmFwcC5saXN0ZW4oUE9SVCwgJ2xvY2FsaG9zdCcsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnUlVOTklORyBTRVJWRVInKTtcbn0pOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "SELECT_ALL_DEFAULT_QUERY",
        "app",
        "use",
        "bodyParser",
        "json",
        "clientAuthenticationMiddleware",
        "get",
        "req",
        "res",
        "send",
        "post",
        "clientLogin",
        "sqlServerObject",
        "getUserData",
        "PORT",
        "process",
        "env",
        "IPADRRESS",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;AAEA,MAAMA,wBAAwB,GAAG,+CAAjC;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQG,kDAAR,E,CAEA;AACA;;AAEAJ,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAS,+BAAT;AACH,CAFD;AAIAR,GAAG,CAACS,IAAJ,CAAS,eAAT,EAA0BC,+BAA1B;AAEAV,GAAG,CAACK,GAAJ,CAAQ,QAAR,EAAkB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC5B,SAAOI,eAAe,CAACC,WAAhB,CAA4Bb,wBAA5B,EAAsDQ,GAAtD,EAA2DD,GAA3D,CAAP;AACH,CAFD;AAIA,MAAM;AAAEO,EAAAA,IAAI,GAAG;AAAT,IAAkBC,OAAO,CAACC,GAAhC;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAgB,EAAtB;AACAhB,GAAG,CAACiB,MAAJ,CAAWJ,IAAX,EAAiB,WAAjB,EAA8B,MAAM;AAChCK,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH,CAFD",
      "sourceRoot": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "sourcesContent": [
        "import cors from 'cors';\nimport 'dotenv/config';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport { isAuthenticatedMiddleware, clientAuthenticationMiddleware, clientLogin } from './userAuthentication';\n\nimport * as sqlServerObject from './SQLServerAccess.js';\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass, StudentID FROM LoginC';\n\nconst app = express();\n\napp.use(cors());\napp.use(bodyParser.json());\napp.use(clientAuthenticationMiddleware);\n\n// app.get('/messages', messagesController.getAll);\n// app.post('/messages', messagesController.post);\n\napp.get('/', (req, res) => {\n    res.send('go to /users to see user list');\n});\n\napp.post('/client-login', clientLogin);\n\napp.get('/users', (req, res) => {\n    return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n});\n\nconst { PORT = 4000 } = process.env;\nconst { IPADRRESS } = ''\napp.listen(PORT, 'localhost', () => {\n    console.log('RUNNING SERVER');\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1603114675767
  },
  "{\"sourceRoot\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver\",\"filename\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/userAuthentication.js\",\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "babelrc": false,
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "filename": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/userAuthentication.js",
      "configFile": false,
      "envName": "development",
      "root": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-flow-strip-types",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            },
            "ImportDeclaration": {
              "enter": [
                null,
                null
              ]
            },
            "ClassPrivateProperty": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "TypeCastExpression": {
              "enter": [
                null,
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "ImportSpecifier": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "AnyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ArrayTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ClassImplements": {
              "enter": [
                null
              ]
            },
            "DeclareClass": {
              "enter": [
                null
              ]
            },
            "DeclareFunction": {
              "enter": [
                null
              ]
            },
            "DeclareInterface": {
              "enter": [
                null
              ]
            },
            "DeclareModule": {
              "enter": [
                null
              ]
            },
            "DeclareModuleExports": {
              "enter": [
                null
              ]
            },
            "DeclareTypeAlias": {
              "enter": [
                null
              ]
            },
            "DeclareOpaqueType": {
              "enter": [
                null
              ]
            },
            "DeclareVariable": {
              "enter": [
                null
              ]
            },
            "DeclareExportDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclareExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclaredPredicate": {
              "enter": [
                null
              ]
            },
            "ExistsTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeParam": {
              "enter": [
                null
              ]
            },
            "GenericTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "InferredPredicate": {
              "enter": [
                null
              ]
            },
            "InterfaceExtends": {
              "enter": [
                null
              ]
            },
            "InterfaceDeclaration": {
              "enter": [
                null
              ]
            },
            "InterfaceTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "IntersectionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "MixedTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "EmptyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullableTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeInternalSlot": {
              "enter": [
                null
              ]
            },
            "ObjectTypeCallProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeIndexer": {
              "enter": [
                null
              ]
            },
            "ObjectTypeProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeSpreadProperty": {
              "enter": [
                null
              ]
            },
            "OpaqueType": {
              "enter": [
                null
              ]
            },
            "QualifiedTypeIdentifier": {
              "enter": [
                null
              ]
            },
            "StringLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "StringTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "SymbolTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ThisTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TupleTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeofTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeAlias": {
              "enter": [
                null
              ]
            },
            "TypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeParameter": {
              "enter": [
                null
              ]
            },
            "TypeParameterDeclaration": {
              "enter": [
                null
              ]
            },
            "TypeParameterInstantiation": {
              "enter": [
                null
              ]
            },
            "UnionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "Variance": {
              "enter": [
                null
              ]
            },
            "VoidTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/userAuthentication.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          [
            "flow",
            {}
          ]
        ]
      },
      "generatorOpts": {
        "filename": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/userAuthentication.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
        "sourceFileName": "userAuthentication.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encodeToken = encodeToken;\nexports.decodeToken = decodeToken;\nexports.isAuthenticatedMiddleware = isAuthenticatedMiddleware;\nexports.clientLogin = clientLogin;\nexports.clientAuthenticationMiddleware = exports.users = void 0;\n\nvar _njwt = _interopRequireDefault(require(\"njwt\"));\n\nvar sqlServerObject = _interopRequireWildcard(require(\"./SQLServerAccess.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst fetch = require(\"node-fetch\");\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass, StudentID FROM LoginC';\nvar users = {}; // export function getsql(req, res)  {\n//     this.users = sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n//     return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n// };\n\nexports.users = users;\nconst {\n  APP_SECRET = 'Thisismysupersecret123456789secret.youmaynotaccess',\n  APP_BASE_URL = 'http://localhost:4000'\n} = process.env;\n\nfunction encodeToken(tokenData) {\n  return _njwt.default.create(tokenData, APP_SECRET).compact();\n}\n\nfunction decodeToken(token) {\n  return _njwt.default.verify(token, APP_SECRET).body;\n}\n\nconst clientAuthenticationMiddleware = (req, res, next) => {\n  const token = req.header('Access-Token');\n\n  if (!token) {\n    return next();\n  }\n\n  try {\n    const decoded = decodeToken(token);\n    const {\n      userId\n    } = decoded;\n    console.log('decoded', decoded);\n    console.log('userId', userId);\n\n    if (users.find(user => user.id === userId)) {\n      console.log('found user!');\n      req.userId = userId;\n    }\n  } catch (e) {\n    return next();\n  }\n\n  next();\n};\n\nexports.clientAuthenticationMiddleware = clientAuthenticationMiddleware;\n\nasync function isAuthenticatedMiddleware(req, res, next) {\n  if (req.userId) {\n    return next();\n  }\n\n  res.status(401);\n  res.json({\n    error: 'User not authenticated'\n  });\n}\n\n; // This endpoint generates and returns a JWT access token given authentication\n// data.\n\nasync function clientLogin(req, res) {\n  console.log(\"ACCESSING SERVER: Request: \", req.body);\n  await fetch('http://10.0.1.167:4000/users').then(response => response.json()).then(json => {\n    exports.users = users = json;\n  });\n  const {\n    muid,\n    password\n  } = req.body;\n  const user = users.data.recordsets[0].find(user => user.LoginName === muid && user.Pass === password);\n  console.log(user);\n\n  if (!user) {\n    res.status(401);\n    return res.json({\n      error: 'Invalid email or password'\n    });\n  }\n\n  const accessToken = encodeToken({\n    userId: user.StudentID\n  });\n  const MercerID = user.StudentID;\n  return res.json({\n    accessToken,\n    MercerID\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJBdXRoZW50aWNhdGlvbi5qcyJdLCJuYW1lcyI6WyJmZXRjaCIsInJlcXVpcmUiLCJTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlkiLCJ1c2VycyIsIkFQUF9TRUNSRVQiLCJBUFBfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiZW5jb2RlVG9rZW4iLCJ0b2tlbkRhdGEiLCJuand0IiwiY3JlYXRlIiwiY29tcGFjdCIsImRlY29kZVRva2VuIiwidG9rZW4iLCJ2ZXJpZnkiLCJib2R5IiwiY2xpZW50QXV0aGVudGljYXRpb25NaWRkbGV3YXJlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsImRlY29kZWQiLCJ1c2VySWQiLCJjb25zb2xlIiwibG9nIiwiZmluZCIsInVzZXIiLCJpZCIsImUiLCJpc0F1dGhlbnRpY2F0ZWRNaWRkbGV3YXJlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY2xpZW50TG9naW4iLCJ0aGVuIiwicmVzcG9uc2UiLCJtdWlkIiwicGFzc3dvcmQiLCJkYXRhIiwicmVjb3Jkc2V0cyIsIkxvZ2luTmFtZSIsIlBhc3MiLCJhY2Nlc3NUb2tlbiIsIlN0dWRlbnRJRCIsIk1lcmNlcklEIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7OztBQUNBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLFlBQUQsQ0FBckI7O0FBRUEsTUFBTUMsd0JBQXdCLEdBQUcsK0NBQWpDO0FBQ08sSUFBSUMsS0FBSyxHQUFHLEVBQVosQyxDQUVQO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxNQUFNO0FBQ0ZDLEVBQUFBLFVBQVUsR0FBRyxvREFEWDtBQUVGQyxFQUFBQSxZQUFZLEdBQUc7QUFGYixJQUdBQyxPQUFPLENBQUNDLEdBSGQ7O0FBS08sU0FBU0MsV0FBVCxDQUFxQkMsU0FBckIsRUFBZ0M7QUFDbkMsU0FBT0MsY0FBS0MsTUFBTCxDQUFZRixTQUFaLEVBQXVCTCxVQUF2QixFQUFtQ1EsT0FBbkMsRUFBUDtBQUNI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QUNhLElBQUosQ0FBUztBQUFFVyxJQUFBQSxXQUFGO0FBQWVFLElBQUFBO0FBQWYsR0FBVCxDQUFQO0FBQ0giLCJzb3VyY2VSb290IjoiL1VzZXJzL2FhYmlya2hpbWFuaS9EZXNrdG9wL0NhbXB1c01hcC9jc2MtNDgwLWNhbXB1cy1tYXAvbWVyY2Vyc3Fsc2VydmVyIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5qd3QgZnJvbSAnbmp3dCc7XG5pbXBvcnQgKiBhcyBzcWxTZXJ2ZXJPYmplY3QgZnJvbSAnLi9TUUxTZXJ2ZXJBY2Nlc3MuanMnO1xuY29uc3QgZmV0Y2ggPSByZXF1aXJlKFwibm9kZS1mZXRjaFwiKTtcblxuY29uc3QgU0VMRUNUX0FMTF9ERUZBVUxUX1FVRVJZID0gJ1NFTEVDVCBMb2dpbk5hbWUsIFBhc3MsIFN0dWRlbnRJRCBGUk9NIExvZ2luQyc7XG5leHBvcnQgdmFyIHVzZXJzID0ge307XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBnZXRzcWwocmVxLCByZXMpICB7XG4vLyAgICAgdGhpcy51c2VycyA9IHNxbFNlcnZlck9iamVjdC5nZXRVc2VyRGF0YShTRUxFQ1RfQUxMX0RFRkFVTFRfUVVFUlksIHJlcywgcmVxKTtcbi8vICAgICByZXR1cm4gc3FsU2VydmVyT2JqZWN0LmdldFVzZXJEYXRhKFNFTEVDVF9BTExfREVGQVVMVF9RVUVSWSwgcmVzLCByZXEpO1xuLy8gfTtcblxuXG5jb25zdCB7XG4gICAgQVBQX1NFQ1JFVCA9ICdUaGlzaXNteXN1cGVyc2VjcmV0MTIzNDU2Nzg5c2VjcmV0LnlvdW1heW5vdGFjY2VzcycsXG4gICAgQVBQX0JBU0VfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMCdcbiAgfSA9IHByb2Nlc3MuZW52O1xuICBcbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVUb2tlbih0b2tlbkRhdGEpIHtcbiAgICByZXR1cm4gbmp3dC5jcmVhdGUodG9rZW5EYXRhLCBBUFBfU0VDUkVUKS5jb21wYWN0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVUb2tlbih0b2tlbikge1xuICAgIHJldHVybiBuand0LnZlcmlmeSh0b2tlbiwgQVBQX1NFQ1JFVCkuYm9keTtcbn1cblxuZXhwb3J0IGNvbnN0IGNsaWVudEF1dGhlbnRpY2F0aW9uTWlkZGxld2FyZSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcignQWNjZXNzLVRva2VuJyk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG4gIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlVG9rZW4odG9rZW4pO1xuICAgICAgY29uc3QgeyB1c2VySWQgfSA9IGRlY29kZWQ7XG4gIFxuICAgICAgY29uc29sZS5sb2coJ2RlY29kZWQnLCBkZWNvZGVkKTtcbiAgICAgIGNvbnNvbGUubG9nKCd1c2VySWQnLCB1c2VySWQpO1xuICBcbiAgICAgIGlmICh1c2Vycy5maW5kKHVzZXIgPT4gdXNlci5pZCA9PT0gdXNlcklkKSkge1xuICAgICAgICBjb25zb2xlLmxvZygnZm91bmQgdXNlciEnKTtcbiAgICAgICAgcmVxLnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgXG4gICAgbmV4dCgpO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZE1pZGRsZXdhcmUocmVxLCByZXMsIG5leHQpIHtcbiAgICBpZiAocmVxLnVzZXJJZCkge1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG4gIFxuICAgIHJlcy5zdGF0dXMoNDAxKTtcbiAgICByZXMuanNvbih7IGVycm9yOiAnVXNlciBub3QgYXV0aGVudGljYXRlZCcgfSk7XG59O1xuXG4vLyBUaGlzIGVuZHBvaW50IGdlbmVyYXRlcyBhbmQgcmV0dXJucyBhIEpXVCBhY2Nlc3MgdG9rZW4gZ2l2ZW4gYXV0aGVudGljYXRpb25cbi8vIGRhdGEuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xpZW50TG9naW4ocmVxLCByZXMpIHtcbiAgICBjb25zb2xlLmxvZyhcIkFDQ0VTU0lORyBTRVJWRVI6IFJlcXVlc3Q6IFwiLCByZXEuYm9keSk7XG5cbiAgICBhd2FpdCBmZXRjaCgnaHR0cDovLzEwLjAuMS4xNjc6NDAwMC91c2VycycpXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICB1c2VycyA9IGpzb247XG4gICAgfSk7XG4gICAgY29uc3QgeyBtdWlkLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlciA9ICB1c2Vycy5kYXRhLnJlY29yZHNldHNbMF0uZmluZCh1c2VyID0+IHVzZXIuTG9naW5OYW1lID09PSBtdWlkICYmIHVzZXIuUGFzcyA9PT0gcGFzc3dvcmQpO1xuICAgIGNvbnNvbGUubG9nKHVzZXIpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmVzLnN0YXR1cyg0MDEpO1xuICAgICAgcmV0dXJuIHJlcy5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyB9KTtcbiAgICB9XG4gIFxuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gZW5jb2RlVG9rZW4oeyB1c2VySWQ6IHVzZXIuU3R1ZGVudElEIH0pO1xuICAgIGNvbnN0IE1lcmNlcklEID0gdXNlci5TdHVkZW50SUQ7XG4gICAgcmV0dXJuIHJlcy5qc29uKHsgYWNjZXNzVG9rZW4sIE1lcmNlcklEIH0pO1xufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userAuthentication.js"
      ],
      "names": [
        "fetch",
        "require",
        "SELECT_ALL_DEFAULT_QUERY",
        "users",
        "APP_SECRET",
        "APP_BASE_URL",
        "process",
        "env",
        "encodeToken",
        "tokenData",
        "njwt",
        "create",
        "compact",
        "decodeToken",
        "token",
        "verify",
        "body",
        "clientAuthenticationMiddleware",
        "req",
        "res",
        "next",
        "header",
        "decoded",
        "userId",
        "console",
        "log",
        "find",
        "user",
        "id",
        "e",
        "isAuthenticatedMiddleware",
        "status",
        "json",
        "error",
        "clientLogin",
        "then",
        "response",
        "muid",
        "password",
        "data",
        "recordsets",
        "LoginName",
        "Pass",
        "accessToken",
        "StudentID",
        "MercerID"
      ],
      "mappings": ";;;;;;;;;;;AAAA;;AACA;;;;;;;;AACA,MAAMA,KAAK,GAAGC,OAAO,CAAC,YAAD,CAArB;;AAEA,MAAMC,wBAAwB,GAAG,+CAAjC;AACO,IAAIC,KAAK,GAAG,EAAZ,C,CAEP;AACA;AACA;AACA;;;AAGA,MAAM;AACFC,EAAAA,UAAU,GAAG,oDADX;AAEFC,EAAAA,YAAY,GAAG;AAFb,IAGAC,OAAO,CAACC,GAHd;;AAKO,SAASC,WAAT,CAAqBC,SAArB,EAAgC;AACnC,SAAOC,cAAKC,MAAL,CAAYF,SAAZ,EAAuBL,UAAvB,EAAmCQ,OAAnC,EAAP;AACH;;AAEM,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC/B,SAAOJ,cAAKK,MAAL,CAAYD,KAAZ,EAAmBV,UAAnB,EAA+BY,IAAtC;AACH;;AAEM,MAAMC,8BAA8B,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC9D,QAAMN,KAAK,GAAGI,GAAG,CAACG,MAAJ,CAAW,cAAX,CAAd;;AACA,MAAI,CAACP,KAAL,EAAY;AACV,WAAOM,IAAI,EAAX;AACD;;AAED,MAAI;AACF,UAAME,OAAO,GAAGT,WAAW,CAACC,KAAD,CAA3B;AACA,UAAM;AAAES,MAAAA;AAAF,QAAaD,OAAnB;AAEAE,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBH,OAAvB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,MAAtB;;AAEA,QAAIpB,KAAK,CAACuB,IAAN,CAAWC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYL,MAA/B,CAAJ,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAP,MAAAA,GAAG,CAACK,MAAJ,GAAaA,MAAb;AACD;AACF,GAXD,CAWE,OAAOM,CAAP,EAAU;AACV,WAAOT,IAAI,EAAX;AACD;;AAEDA,EAAAA,IAAI;AACP,CAtBM;;;;AAwBA,eAAeU,yBAAf,CAAyCZ,GAAzC,EAA8CC,GAA9C,EAAmDC,IAAnD,EAAyD;AAC5D,MAAIF,GAAG,CAACK,MAAR,EAAgB;AACd,WAAOH,IAAI,EAAX;AACD;;AAEDD,EAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX;AACAZ,EAAAA,GAAG,CAACa,IAAJ,CAAS;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAT;AACH;;AAAA,C,CAED;AACA;;AACO,eAAeC,WAAf,CAA2BhB,GAA3B,EAAgCC,GAAhC,EAAqC;AACxCK,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CP,GAAG,CAACF,IAA/C;AAEA,QAAMhB,KAAK,CAAC,8BAAD,CAAL,CACLmC,IADK,CACAC,QAAQ,IAAIA,QAAQ,CAACJ,IAAT,EADZ,EAELG,IAFK,CAEAH,IAAI,IAAI;AACV,oBAAA7B,KAAK,GAAG6B,IAAR;AACH,GAJK,CAAN;AAKA,QAAM;AAAEK,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAqBpB,GAAG,CAACF,IAA/B;AACA,QAAMW,IAAI,GAAIxB,KAAK,CAACoC,IAAN,CAAWC,UAAX,CAAsB,CAAtB,EAAyBd,IAAzB,CAA8BC,IAAI,IAAIA,IAAI,CAACc,SAAL,KAAmBJ,IAAnB,IAA2BV,IAAI,CAACe,IAAL,KAAcJ,QAA/E,CAAd;AACAd,EAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;;AACA,MAAI,CAACA,IAAL,EAAW;AACTR,IAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX;AACA,WAAOZ,GAAG,CAACa,IAAJ,CAAS;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAT,CAAP;AACD;;AAED,QAAMU,WAAW,GAAGnC,WAAW,CAAC;AAAEe,IAAAA,MAAM,EAAEI,IAAI,CAACiB;AAAf,GAAD,CAA/B;AACA,QAAMC,QAAQ,GAAGlB,IAAI,CAACiB,SAAtB;AACA,SAAOzB,GAAG,CAACa,IAAJ,CAAS;AAAEW,IAAAA,WAAF;AAAeE,IAAAA;AAAf,GAAT,CAAP;AACH",
      "sourceRoot": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "sourcesContent": [
        "import njwt from 'njwt';\nimport * as sqlServerObject from './SQLServerAccess.js';\nconst fetch = require(\"node-fetch\");\n\nconst SELECT_ALL_DEFAULT_QUERY = 'SELECT LoginName, Pass, StudentID FROM LoginC';\nexport var users = {};\n\n// export function getsql(req, res)  {\n//     this.users = sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n//     return sqlServerObject.getUserData(SELECT_ALL_DEFAULT_QUERY, res, req);\n// };\n\n\nconst {\n    APP_SECRET = 'Thisismysupersecret123456789secret.youmaynotaccess',\n    APP_BASE_URL = 'http://localhost:4000'\n  } = process.env;\n  \nexport function encodeToken(tokenData) {\n    return njwt.create(tokenData, APP_SECRET).compact();\n}\n\nexport function decodeToken(token) {\n    return njwt.verify(token, APP_SECRET).body;\n}\n\nexport const clientAuthenticationMiddleware = (req, res, next) => {\n    const token = req.header('Access-Token');\n    if (!token) {\n      return next();\n    }\n  \n    try {\n      const decoded = decodeToken(token);\n      const { userId } = decoded;\n  \n      console.log('decoded', decoded);\n      console.log('userId', userId);\n  \n      if (users.find(user => user.id === userId)) {\n        console.log('found user!');\n        req.userId = userId;\n      }\n    } catch (e) {\n      return next();\n    }\n  \n    next();\n};\n\nexport async function isAuthenticatedMiddleware(req, res, next) {\n    if (req.userId) {\n      return next();\n    }\n  \n    res.status(401);\n    res.json({ error: 'User not authenticated' });\n};\n\n// This endpoint generates and returns a JWT access token given authentication\n// data.\nexport async function clientLogin(req, res) {\n    console.log(\"ACCESSING SERVER: Request: \", req.body);\n\n    await fetch('http://10.0.1.167:4000/users')\n    .then(response => response.json())\n    .then(json => {\n        users = json;\n    });\n    const { muid, password } = req.body;\n    const user =  users.data.recordsets[0].find(user => user.LoginName === muid && user.Pass === password);\n    console.log(user);\n    if (!user) {\n      res.status(401);\n      return res.json({ error: 'Invalid email or password' });\n    }\n  \n    const accessToken = encodeToken({ userId: user.StudentID });\n    const MercerID = user.StudentID;\n    return res.json({ accessToken, MercerID });\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1600558954078
  },
  "{\"sourceRoot\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver\",\"babelrc\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver\",\"filename\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/SQLServerAccess.js\",\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-flow-strip-types\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]},\"ImportDeclaration\":{\"enter\":[null,null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"TypeCastExpression\":{\"enter\":[null,null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"ImportSpecifier\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"AnyTypeAnnotation\":{\"enter\":[null]},\"ArrayTypeAnnotation\":{\"enter\":[null]},\"BooleanTypeAnnotation\":{\"enter\":[null]},\"BooleanLiteralTypeAnnotation\":{\"enter\":[null]},\"NullLiteralTypeAnnotation\":{\"enter\":[null]},\"ClassImplements\":{\"enter\":[null]},\"DeclareClass\":{\"enter\":[null]},\"DeclareFunction\":{\"enter\":[null]},\"DeclareInterface\":{\"enter\":[null]},\"DeclareModule\":{\"enter\":[null]},\"DeclareModuleExports\":{\"enter\":[null]},\"DeclareTypeAlias\":{\"enter\":[null]},\"DeclareOpaqueType\":{\"enter\":[null]},\"DeclareVariable\":{\"enter\":[null]},\"DeclareExportDeclaration\":{\"enter\":[null]},\"DeclareExportAllDeclaration\":{\"enter\":[null]},\"DeclaredPredicate\":{\"enter\":[null]},\"ExistsTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeAnnotation\":{\"enter\":[null]},\"FunctionTypeParam\":{\"enter\":[null]},\"GenericTypeAnnotation\":{\"enter\":[null]},\"InferredPredicate\":{\"enter\":[null]},\"InterfaceExtends\":{\"enter\":[null]},\"InterfaceDeclaration\":{\"enter\":[null]},\"InterfaceTypeAnnotation\":{\"enter\":[null]},\"IntersectionTypeAnnotation\":{\"enter\":[null]},\"MixedTypeAnnotation\":{\"enter\":[null]},\"EmptyTypeAnnotation\":{\"enter\":[null]},\"NullableTypeAnnotation\":{\"enter\":[null]},\"NumberLiteralTypeAnnotation\":{\"enter\":[null]},\"NumberTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeAnnotation\":{\"enter\":[null]},\"ObjectTypeInternalSlot\":{\"enter\":[null]},\"ObjectTypeCallProperty\":{\"enter\":[null]},\"ObjectTypeIndexer\":{\"enter\":[null]},\"ObjectTypeProperty\":{\"enter\":[null]},\"ObjectTypeSpreadProperty\":{\"enter\":[null]},\"OpaqueType\":{\"enter\":[null]},\"QualifiedTypeIdentifier\":{\"enter\":[null]},\"StringLiteralTypeAnnotation\":{\"enter\":[null]},\"StringTypeAnnotation\":{\"enter\":[null]},\"SymbolTypeAnnotation\":{\"enter\":[null]},\"ThisTypeAnnotation\":{\"enter\":[null]},\"TupleTypeAnnotation\":{\"enter\":[null]},\"TypeofTypeAnnotation\":{\"enter\":[null]},\"TypeAlias\":{\"enter\":[null]},\"TypeAnnotation\":{\"enter\":[null]},\"TypeParameter\":{\"enter\":[null]},\"TypeParameterDeclaration\":{\"enter\":[null]},\"TypeParameterInstantiation\":{\"enter\":[null]},\"UnionTypeAnnotation\":{\"enter\":[null]},\"Variance\":{\"enter\":[null]},\"VoidTypeAnnotation\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}}],\"presets\":[]}:7.2.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "babelrc": false,
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "filename": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/SQLServerAccess.js",
      "configFile": false,
      "envName": "development",
      "root": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-decorators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "legacy": true
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-flow-strip-types",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            },
            "ImportDeclaration": {
              "enter": [
                null,
                null
              ]
            },
            "ClassPrivateProperty": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "TypeCastExpression": {
              "enter": [
                null,
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "ImportSpecifier": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "AnyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ArrayTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "BooleanLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ClassImplements": {
              "enter": [
                null
              ]
            },
            "DeclareClass": {
              "enter": [
                null
              ]
            },
            "DeclareFunction": {
              "enter": [
                null
              ]
            },
            "DeclareInterface": {
              "enter": [
                null
              ]
            },
            "DeclareModule": {
              "enter": [
                null
              ]
            },
            "DeclareModuleExports": {
              "enter": [
                null
              ]
            },
            "DeclareTypeAlias": {
              "enter": [
                null
              ]
            },
            "DeclareOpaqueType": {
              "enter": [
                null
              ]
            },
            "DeclareVariable": {
              "enter": [
                null
              ]
            },
            "DeclareExportDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclareExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "DeclaredPredicate": {
              "enter": [
                null
              ]
            },
            "ExistsTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "FunctionTypeParam": {
              "enter": [
                null
              ]
            },
            "GenericTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "InferredPredicate": {
              "enter": [
                null
              ]
            },
            "InterfaceExtends": {
              "enter": [
                null
              ]
            },
            "InterfaceDeclaration": {
              "enter": [
                null
              ]
            },
            "InterfaceTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "IntersectionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "MixedTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "EmptyTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NullableTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "NumberTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ObjectTypeInternalSlot": {
              "enter": [
                null
              ]
            },
            "ObjectTypeCallProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeIndexer": {
              "enter": [
                null
              ]
            },
            "ObjectTypeProperty": {
              "enter": [
                null
              ]
            },
            "ObjectTypeSpreadProperty": {
              "enter": [
                null
              ]
            },
            "OpaqueType": {
              "enter": [
                null
              ]
            },
            "QualifiedTypeIdentifier": {
              "enter": [
                null
              ]
            },
            "StringLiteralTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "StringTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "SymbolTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ThisTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TupleTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeofTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeAlias": {
              "enter": [
                null
              ]
            },
            "TypeAnnotation": {
              "enter": [
                null
              ]
            },
            "TypeParameter": {
              "enter": [
                null
              ]
            },
            "TypeParameterDeclaration": {
              "enter": [
                null
              ]
            },
            "TypeParameterInstantiation": {
              "enter": [
                null
              ]
            },
            "UnionTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "Variance": {
              "enter": [
                null
              ]
            },
            "VoidTypeAnnotation": {
              "enter": [
                null
              ]
            },
            "ExportAllDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/SQLServerAccess.js",
        "plugins": [
          "decorators-legacy",
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          [
            "flow",
            {}
          ]
        ]
      },
      "generatorOpts": {
        "filename": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver/SQLServerAccess.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
        "sourceFileName": "SQLServerAccess.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUserData = getUserData;\n\nconst express = require('express');\n\nconst cors = require('cors');\n\nconst mssql = require('mssql');\n\nconst fetch = require(\"node-fetch\");\n\nconst app = express();\nvar config = {\n  server: 'csdata.cd4sevot432y.us-east-1.rds.amazonaws.com',\n  user: 'csc312cloud',\n  password: 'c3s!c2Cld',\n  database: 'CIS-C'\n};\n\nfunction getUserIdFromAuthenticatedRequest(req) {\n  return req.userId;\n}\n\nmssql.connect(config, function (err) {\n  if (err) console.log(err);\n});\napp.use(cors());\n\nasync function getUserData(sqlQuery, res, req) {\n  var request = new mssql.Request();\n  request.query(sqlQuery, function (err, results) {\n    if (err) {\n      return res.send(err);\n    } else {\n      return res.json({\n        data: results\n      });\n    }\n  });\n}\n\napp.get('/users/query', (req, res) => {\n  const {\n    username,\n    password\n  } = req.query;\n  const QUERY_USERS = \"SELECT StudentID, ProfID FROM LoginC WHERE LoginName = '\" + username + \"' AND Pass = '\" + password + \"'\";\n  console.log(QUERY_USERS);\n  var request = new mssql.Request();\n  request.query(QUERY_USERS, function (err, results) {\n    if (err) {\n      return res.send(err);\n    } else {\n      return res.json({\n        data: results\n      });\n    }\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNRTFNlcnZlckFjY2Vzcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNvcnMiLCJtc3NxbCIsImZldGNoIiwiYXBwIiwiY29uZmlnIiwic2VydmVyIiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJnZXRVc2VySWRGcm9tQXV0aGVudGljYXRlZFJlcXVlc3QiLCJyZXEiLCJ1c2VySWQiLCJjb25uZWN0IiwiZXJyIiwiY29uc29sZSIsImxvZyIsInVzZSIsImdldFVzZXJEYXRhIiwic3FsUXVlcnkiLCJyZXMiLCJyZXF1ZXN0IiwiUmVxdWVzdCIsInF1ZXJ5IiwicmVzdWx0cyIsInNlbmQiLCJqc29uIiwiZGF0YSIsImdldCIsInVzZXJuYW1lIiwiUVVFUllfVVNFUlMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUUsS0FBSyxHQUFHRixPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxNQUFNRyxLQUFLLEdBQUdILE9BQU8sQ0FBQyxZQUFELENBQXJCOztBQUVBLE1BQU1JLEdBQUcsR0FBR0wsT0FBTyxFQUFuQjtBQUVBLElBQUlNLE1BQU0sR0FBSTtBQUNWQyxFQUFBQSxNQUFNLEVBQWMsaURBRFY7QUFFVkMsRUFBQUEsSUFBSSxFQUFjLGFBRlI7QUFHVkMsRUFBQUEsUUFBUSxFQUFVLFdBSFI7QUFJVkMsRUFBQUEsUUFBUSxFQUFVO0FBSlIsQ0FBZDs7QUFRQSxTQUFTQyxpQ0FBVCxDQUEyQ0MsR0FBM0MsRUFBZ0Q7QUFDNUMsU0FBT0EsR0FBRyxDQUFDQyxNQUFYO0FBQ0g7O0FBRURWLEtBQUssQ0FBQ1csT0FBTixDQUFjUixNQUFkLEVBQXNCLFVBQVNTLEdBQVQsRUFBYztBQUNoQyxNQUFHQSxHQUFILEVBQ0lDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixHQUFaO0FBQ1AsQ0FIRDtBQUtBVixHQUFHLENBQUNhLEdBQUosQ0FBUWhCLElBQUksRUFBWjs7QUFFTyxlQUFlaUIsV0FBZixDQUEyQkMsUUFBM0IsRUFBcUNDLEdBQXJDLEVBQTBDVCxHQUExQyxFQUErQztBQUNsRCxNQUFJVSxPQUFPLEdBQUcsSUFBSW5CLEtBQUssQ0FBQ29CLE9BQVYsRUFBZDtBQUNBRCxFQUFBQSxPQUFPLENBQUNFLEtBQVIsQ0FBY0osUUFBZCxFQUF3QixVQUFVTCxHQUFWLEVBQWVVLE9BQWYsRUFBd0I7QUFDNUMsUUFBR1YsR0FBSCxFQUFRO0FBQ0osYUFBT00sR0FBRyxDQUFDSyxJQUFKLENBQVNYLEdBQVQsQ0FBUDtBQUNILEtBRkQsTUFFTztBQUVILGFBQU9NLEdBQUcsQ0FBQ00sSUFBSixDQUFTO0FBQ1pDLFFBQUFBLElBQUksRUFBRUg7QUFETSxPQUFULENBQVA7QUFHSDtBQUVKLEdBVkQ7QUFXSDs7QUFHRHBCLEdBQUcsQ0FBQ3dCLEdBQUosQ0FBUSxjQUFSLEVBQXdCLENBQUNqQixHQUFELEVBQU1TLEdBQU4sS0FBYztBQUNsQyxRQUFNO0FBQUVTLElBQUFBLFFBQUY7QUFBWXJCLElBQUFBO0FBQVosTUFBeUJHLEdBQUcsQ0FBQ1ksS0FBbkM7QUFDQSxRQUFNTyxXQUFXLEdBQUcsNkRBQTJERCxRQUEzRCxHQUFvRSxnQkFBcEUsR0FBcUZyQixRQUFyRixHQUE4RixHQUFsSDtBQUNBTyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWWMsV0FBWjtBQUNBLE1BQUlULE9BQU8sR0FBRyxJQUFJbkIsS0FBSyxDQUFDb0IsT0FBVixFQUFkO0FBQ0FELEVBQUFBLE9BQU8sQ0FBQ0UsS0FBUixDQUFjTyxXQUFkLEVBQTJCLFVBQVVoQixHQUFWLEVBQWVVLE9BQWYsRUFBd0I7QUFFL0MsUUFBR1YsR0FBSCxFQUFRO0FBQ0osYUFBT00sR0FBRyxDQUFDSyxJQUFKLENBQVNYLEdBQVQsQ0FBUDtBQUNILEtBRkQsTUFFTztBQUNILGFBQU9NLEdBQUcsQ0FBQ00sSUFBSixDQUFTO0FBQ1pDLFFBQUFBLElBQUksRUFBRUg7QUFETSxPQUFULENBQVA7QUFHSDtBQUVKLEdBVkQ7QUFXSCxDQWhCRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYWFiaXJraGltYW5pL0Rlc2t0b3AvQ2FtcHVzTWFwL2NzYy00ODAtY2FtcHVzLW1hcC9tZXJjZXJzcWxzZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKTtcbmNvbnN0IG1zc3FsID0gcmVxdWlyZSgnbXNzcWwnKTtcbmNvbnN0IGZldGNoID0gcmVxdWlyZShcIm5vZGUtZmV0Y2hcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxudmFyIGNvbmZpZyAgPSB7XG4gICAgc2VydmVyICAgICAgICAgICAgOiAnY3NkYXRhLmNkNHNldm90NDMyeS51cy1lYXN0LTEucmRzLmFtYXpvbmF3cy5jb20nLFxuICAgIHVzZXIgICAgICAgICAgICA6ICdjc2MzMTJjbG91ZCcsXG4gICAgcGFzc3dvcmQgICAgICAgIDogJ2MzcyFjMkNsZCcsXG4gICAgZGF0YWJhc2UgICAgICAgIDogJ0NJUy1DJ1xufTtcbiAgXG5cbmZ1bmN0aW9uIGdldFVzZXJJZEZyb21BdXRoZW50aWNhdGVkUmVxdWVzdChyZXEpIHtcbiAgICByZXR1cm4gcmVxLnVzZXJJZDtcbn1cblxubXNzcWwuY29ubmVjdChjb25maWcsIGZ1bmN0aW9uKGVycikge1xuICAgIGlmKGVycilcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbn0pXG5cbmFwcC51c2UoY29ycygpKTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJEYXRhKHNxbFF1ZXJ5LCByZXMsIHJlcSkge1xuICAgIHZhciByZXF1ZXN0ID0gbmV3IG1zc3FsLlJlcXVlc3QoKTtcbiAgICByZXF1ZXN0LnF1ZXJ5KHNxbFF1ZXJ5LCBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zZW5kKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfSlcbn1cblxuXG5hcHAuZ2V0KCcvdXNlcnMvcXVlcnknLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLnF1ZXJ5O1xuICAgIGNvbnN0IFFVRVJZX1VTRVJTID0gXCJTRUxFQ1QgU3R1ZGVudElELCBQcm9mSUQgRlJPTSBMb2dpbkMgV0hFUkUgTG9naW5OYW1lID0gJ1wiK3VzZXJuYW1lK1wiJyBBTkQgUGFzcyA9ICdcIitwYXNzd29yZCtcIidcIjtcbiAgICBjb25zb2xlLmxvZyhRVUVSWV9VU0VSUyk7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgbXNzcWwuUmVxdWVzdCgpO1xuICAgIHJlcXVlc3QucXVlcnkoUVVFUllfVVNFUlMsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcblxuICAgICAgICBpZihlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc2VuZChlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9KTtcbn0pO1xuXG5cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "SQLServerAccess.js"
      ],
      "names": [
        "express",
        "require",
        "cors",
        "mssql",
        "fetch",
        "app",
        "config",
        "server",
        "user",
        "password",
        "database",
        "getUserIdFromAuthenticatedRequest",
        "req",
        "userId",
        "connect",
        "err",
        "console",
        "log",
        "use",
        "getUserData",
        "sqlQuery",
        "res",
        "request",
        "Request",
        "query",
        "results",
        "send",
        "json",
        "data",
        "get",
        "username",
        "QUERY_USERS"
      ],
      "mappings": ";;;;;;;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMG,KAAK,GAAGH,OAAO,CAAC,YAAD,CAArB;;AAEA,MAAMI,GAAG,GAAGL,OAAO,EAAnB;AAEA,IAAIM,MAAM,GAAI;AACVC,EAAAA,MAAM,EAAc,iDADV;AAEVC,EAAAA,IAAI,EAAc,aAFR;AAGVC,EAAAA,QAAQ,EAAU,WAHR;AAIVC,EAAAA,QAAQ,EAAU;AAJR,CAAd;;AAQA,SAASC,iCAAT,CAA2CC,GAA3C,EAAgD;AAC5C,SAAOA,GAAG,CAACC,MAAX;AACH;;AAEDV,KAAK,CAACW,OAAN,CAAcR,MAAd,EAAsB,UAASS,GAAT,EAAc;AAChC,MAAGA,GAAH,EACIC,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACP,CAHD;AAKAV,GAAG,CAACa,GAAJ,CAAQhB,IAAI,EAAZ;;AAEO,eAAeiB,WAAf,CAA2BC,QAA3B,EAAqCC,GAArC,EAA0CT,GAA1C,EAA+C;AAClD,MAAIU,OAAO,GAAG,IAAInB,KAAK,CAACoB,OAAV,EAAd;AACAD,EAAAA,OAAO,CAACE,KAAR,CAAcJ,QAAd,EAAwB,UAAUL,GAAV,EAAeU,OAAf,EAAwB;AAC5C,QAAGV,GAAH,EAAQ;AACJ,aAAOM,GAAG,CAACK,IAAJ,CAASX,GAAT,CAAP;AACH,KAFD,MAEO;AAEH,aAAOM,GAAG,CAACM,IAAJ,CAAS;AACZC,QAAAA,IAAI,EAAEH;AADM,OAAT,CAAP;AAGH;AAEJ,GAVD;AAWH;;AAGDpB,GAAG,CAACwB,GAAJ,CAAQ,cAAR,EAAwB,CAACjB,GAAD,EAAMS,GAAN,KAAc;AAClC,QAAM;AAAES,IAAAA,QAAF;AAAYrB,IAAAA;AAAZ,MAAyBG,GAAG,CAACY,KAAnC;AACA,QAAMO,WAAW,GAAG,6DAA2DD,QAA3D,GAAoE,gBAApE,GAAqFrB,QAArF,GAA8F,GAAlH;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAYc,WAAZ;AACA,MAAIT,OAAO,GAAG,IAAInB,KAAK,CAACoB,OAAV,EAAd;AACAD,EAAAA,OAAO,CAACE,KAAR,CAAcO,WAAd,EAA2B,UAAUhB,GAAV,EAAeU,OAAf,EAAwB;AAE/C,QAAGV,GAAH,EAAQ;AACJ,aAAOM,GAAG,CAACK,IAAJ,CAASX,GAAT,CAAP;AACH,KAFD,MAEO;AACH,aAAOM,GAAG,CAACM,IAAJ,CAAS;AACZC,QAAAA,IAAI,EAAEH;AADM,OAAT,CAAP;AAGH;AAEJ,GAVD;AAWH,CAhBD",
      "sourceRoot": "/Users/aabirkhimani/Desktop/CampusMap/csc-480-campus-map/mercersqlserver",
      "sourcesContent": [
        "const express = require('express');\nconst cors = require('cors');\nconst mssql = require('mssql');\nconst fetch = require(\"node-fetch\");\n\nconst app = express();\n\nvar config  = {\n    server            : 'csdata.cd4sevot432y.us-east-1.rds.amazonaws.com',\n    user            : 'csc312cloud',\n    password        : 'c3s!c2Cld',\n    database        : 'CIS-C'\n};\n  \n\nfunction getUserIdFromAuthenticatedRequest(req) {\n    return req.userId;\n}\n\nmssql.connect(config, function(err) {\n    if(err)\n        console.log(err);\n})\n\napp.use(cors());\n\nexport async function getUserData(sqlQuery, res, req) {\n    var request = new mssql.Request();\n    request.query(sqlQuery, function (err, results) {\n        if(err) {\n            return res.send(err);\n        } else {\n            \n            return res.json({\n                data: results\n            });\n        }\n        \n    })\n}\n\n\napp.get('/users/query', (req, res) => {\n    const { username, password } = req.query;\n    const QUERY_USERS = \"SELECT StudentID, ProfID FROM LoginC WHERE LoginName = '\"+username+\"' AND Pass = '\"+password+\"'\";\n    console.log(QUERY_USERS);\n    var request = new mssql.Request();\n    request.query(QUERY_USERS, function (err, results) {\n\n        if(err) {\n            return res.send(err);\n        } else {\n            return res.json({\n                data: results\n            });\n        }\n        \n    });\n});\n\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600562113458
  }
}